(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e,t,a){e.exports=a(336)},336:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"delImage",function(){return ae}),a.d(n,"changePosition",function(){return ne}),a.d(n,"delMenu",function(){return re}),a.d(n,"delPage",function(){return se}),a.d(n,"getConfig",function(){return ce}),a.d(n,"getMenus",function(){return oe}),a.d(n,"getPages",function(){return le}),a.d(n,"getPage",function(){return ie}),a.d(n,"addMenu",function(){return ue}),a.d(n,"saveMenu",function(){return pe}),a.d(n,"savePage",function(){return de}),a.d(n,"clearPage",function(){return me}),a.d(n,"changeMenu",function(){return ge}),a.d(n,"changePage",function(){return he});var r={};a.r(r),a.d(r,"getConfig",function(){return Fe}),a.d(r,"changePosition",function(){return Ue}),a.d(r,"delImage",function(){return Je}),a.d(r,"getShopPages",function(){return Be}),a.d(r,"getProducts",function(){return He}),a.d(r,"saveProduct",function(){return Ke}),a.d(r,"deleteProduct",function(){return ze}),a.d(r,"setProduct",function(){return We}),a.d(r,"changeProduct",function(){return qe});var s={};a.r(s),a.d(s,"getCheckouts",function(){return st}),a.d(s,"updateCheckout",function(){return ct});var c={};a.r(c),a.d(c,"getClearcache",function(){return gt}),a.d(c,"getCreatesitemap",function(){return ht});var o={};a.r(o),a.d(o,"getClients",function(){return wt});var l={};a.r(l),a.d(l,"getContacts",function(){return Pt}),a.d(l,"deleteContact",function(){return St});var i={};a.r(i),a.d(i,"signin",function(){return Tt}),a.d(i,"signout",function(){return Ft});var u=a(0),p=a.n(u),d=a(27),m=a.n(d),g=a(31),h=a(37),f=a(5),v=a(4),y=a(16),b=a(142),k=a(339),E="pages_res",_="products_res",w={authenticated:"",errorMessage:""},j={menus:[],page:{},pages:[],config:{}},O={products:[],product:{},check_products:{}},N={users:[]},x={contacts:[]},C={CHECKOUTS:[]},P=Object(y.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth_user":return Object(f.a)({},e,{authenticated:t.payload});case"auth_error":return Object(f.a)({},e,{errorMessage:t.payload});default:return e}},pages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"pages_add_menu":var a=e.menus.slice();return a.push(t.payload),Object(f.a)({},e,{menus:a});case"pages_clear_page":return Object(f.a)({},e,{page:{title:[],short_title:[],published:0,commented:0,after_login:0,type:"cms",content:[],menu_id:"",page_id:"",images:[]}});case"pages_change_menu":var n=e.menus.map(function(e){return e.id===t.payload.id?t.payload:e});return Object(f.a)({},e,{menus:n,pages_res:{}});case"pages_change_page":return Object(f.a)({},e,{page:t.payload,pages_res:{}});case E:return Object(f.a)({},e,{pages_res:t.payload});case"pages_get_menu":return Object(f.a)({},e,{menus:t.payload});case"pages_save_pages":return Object(f.a)({},e,{pages:t.payload});case"pages_save_page":return Object(f.a)({},e,{page:t.payload,pages_res:{}});case"config_get_config":return Object(f.a)({},e,{config:t.payload});case"pages_delete_menu":var r=e.menus.slice(),s=[],c=!0,o=!1,l=void 0;try{for(var i,u=r[Symbol.iterator]();!(c=(i=u.next()).done);c=!0){var p=i.value;p.id!==t.payload&&s.push(p)}}catch(_){o=!0,l=_}finally{try{c||null==u.return||u.return()}finally{if(o)throw l}}return Object(f.a)({},e,{menus:s});case"pages_delete_page":var d=e.pages.slice(),m=[],g=!0,h=!1,v=void 0;try{for(var y,b=d[Symbol.iterator]();!(g=(y=b.next()).done);g=!0){var k=y.value;k.id!==t.payload&&m.push(k)}}catch(_){h=!0,v=_}finally{try{g||null==b.return||b.return()}finally{if(h)throw v}}return Object(f.a)({},e,{pages:m});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users_res":return Object(f.a)({},e,{users_res:t.payload});case"users_get_clients":return Object(f.a)({},e,{clients:t.payload});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(f.a)({},e,{products_res:t.payload});case"products_get_products":return Object(f.a)({},e,{products:t.payload,products_res:{}});case"products_get_pages":return Object(f.a)({},e,{shop_pages:t.payload,products_res:{}});case"products_get_product":return Object(f.a)({},e,{product:{name:"",sku:"",price:0,description:"",page_id:"",images:[]},products_res:{}});case"products_change_product":case"products_set_product":return Object(f.a)({},e,{product:t.payload,products_res:{}});case"products_delete_product":var a=e.products.slice(),n=[],r=!0,s=!1,c=void 0;try{for(var o,l=a[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var i=o.value;i.id!==t.payload&&n.push(i)}}catch(u){s=!0,c=u}finally{try{r||null==l.return||l.return()}finally{if(s)throw c}}return Object(f.a)({},e,{products:n,products_res:{}});default:return e}},contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"contacts_res":return Object(f.a)({},e,{contacts_res:t.payload});case"contacts_get_contacts":return Object(f.a)({},e,{contacts:t.payload,contacts_res:{}});case"contacts_delete_contact":var a=e.contacts.slice(),n=[],r=!0,s=!1,c=void 0;try{for(var o,l=a[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var i=o.value;i.id!==t.payload&&n.push(i)}}catch(u){s=!0,c=u}finally{try{r||null==l.return||l.return()}finally{if(s)throw c}}return Object(f.a)({},e,{contacts:n,contacts_res:{}});default:return e}},checkouts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"checkouts_res":return Object(f.a)({},e,{checkouts_res:t.payload});case"checkouts_get_checkouts":return Object(f.a)({},e,{checkouts:t.payload,checkouts_res:{}});default:return e}},form:k.a}),S=a(144),I="http://127.0.0.1:8000",L="",D=["pages","users","products","checkouts","contacts","settings"],M=a(6),R=a(7),A=a(9),T=a(8),F=a(10),U=function(e){var t=function(t){function a(){return Object(M.a)(this,a),Object(A.a)(this,Object(T.a)(a).apply(this,arguments))}return Object(F.a)(a,t),Object(R.a)(a,[{key:"componentDidMount",value:function(){this.shouldNavigateAway()}},{key:"componentDidUpdate",value:function(){this.shouldNavigateAway()}},{key:"shouldNavigateAway",value:function(){if(!this.props.auth){var e="/admin"+L+"/";this.props.history.push(e)}}},{key:"render",value:function(){return p.a.createElement(e,this.props)}}]),a}(u.Component);return Object(v.b)(function(e){return{auth:e.auth.authenticated}})(t)},J=a(3),B=a.n(J),H=a(13),K=a(12),z=a.n(K),W=function(e,t){return e+(t?"/api/"+t:"/api")},q=function(e,t){var a=e.filter(function(e){return e.id===parseInt(t)});return a.length?a[0]:{}},V=function(e,t){var a=null,n=!0,r=!1,s=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var l=c.value;if(l.id===t){a=l;break}}}catch(i){r=!0,s=i}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}return a},Y=function(e){return!!e&&e[0]+e[1]+e[2]==="rs_"},G=function(e,t){var a=null;if(e){var n=!0,r=!1,s=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var l=c.value;if(l.id===t){a=l;break}}}catch(i){r=!0,s=i}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}}return a},Q=function(e,t){var a=[],n=!0,r=!1,s=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var l=c.value;l.id===t.id?a.push(t):a.push(l)}}catch(i){r=!0,s=i}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}return a},X=function(e,t){var a=[];if(Y(t))return a;var n=!0,r=!1,s=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var l=c.value;t||l.menu_id?parseInt(l.menu_id)===t&&a.push(l):a.push(l)}}catch(i){r=!0,s=i}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}return a},Z=function(e,t){for(var a=t.length,n=0;n<a;n++)if(t[n]===e)return!0;return!1},$=function(e){return e?e[0]:""},ee=function(e,t,a,n){var r={},s=!0,c=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(s=(l=i.next()).done);s=!0){var u=l.value;r[u]=u===a?n:t&&t[u]?t[u]:""}}catch(p){c=!0,o=p}finally{try{s||null==i.return||i.return()}finally{if(c)throw o}}return r},te=W(I,""),ae=function(e,t){return function(){var a=Object(H.a)(B.a.mark(function a(n){var r,s;return B.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=localStorage.getItem("token"),a.prev=1,a.next=4,z.a.delete(te+"/images/"+e+"?token="+r);case 4:(s=a.sent).data.success?n({type:E,payload:{success:!0,message:"Data was saved"}}):n({type:E,payload:{success:!1,message:s.data.error}}),t(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:E,payload:{success:!1,message:"Unknown problem with ajax, while deleteing image"}});case 12:case"end":return a.stop()}},a,null,[[1,9]])}));return function(e){return a.apply(this,arguments)}}()},ne=function(e,t,a,n){return function(){var r=Object(H.a)(B.a.mark(function r(s){var c;return B.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=localStorage.getItem("token"),r.prev=1,r.next=4,z.a.get(te+"/"+a+"/position/"+e+"/"+t+"?token="+c);case 4:r.sent.data.success?s({type:E,payload:{success:!0,message:"Data was saved"}}):s({type:E,payload:{success:!1,message:"Problem with change position "+a}}),n(),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),s({type:E,payload:{success:!1,message:"Unknown problem with ajax, while change "+a+" position"}});case 12:case"end":return r.stop()}},r,null,[[1,9]])}));return function(e){return r.apply(this,arguments)}}()},re=function(e){return function(){var t=Object(H.a)(B.a.mark(function t(a){var n,r,s;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=localStorage.getItem("token"),r=Y(e),t.prev=2,r){t.next=8;break}return t.next=6,z.a.delete(te+"/menus/"+e+"?token="+n);case 6:(s=t.sent).data.success?a({type:E,payload:{success:!0,message:"Data was saved"}}):a({type:E,payload:{success:!1,message:s.data.error}});case 8:a({type:"pages_delete_menu",payload:e}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),a({type:E,payload:{success:!1,message:"Unknown problem with ajax, while deleteing menu"}});case 14:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}()},se=function(e,t){return function(){var a=Object(H.a)(B.a.mark(function a(n){var r,s;return B.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=localStorage.getItem("token"),a.prev=1,a.next=4,z.a.delete(te+"/pages/"+e+"?token="+r);case 4:(s=a.sent).data.success?(n({type:E,payload:{success:!0,message:"Data was saved"}}),t()):n({type:E,payload:{success:!1,message:s.data.error}}),n({type:"pages_delete_page",payload:e}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:E,payload:{success:!1,message:"Unknown problem with ajax, while deleteing page"}});case 12:case"end":return a.stop()}},a,null,[[1,9]])}));return function(e){return a.apply(this,arguments)}}()},ce=function(e){return function(){var t=Object(H.a)(B.a.mark(function t(a){var n,r;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token"),t.prev=1,t.next=4,z.a.get(te+"/config?token="+n);case 4:r=t.sent,a({type:"config_get_config",payload:r.data.data}),e(r.data.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:E,payload:{success:!1,message:"Unknown problem with ajax, while get config"}});case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},oe=function(){return function(){var e=Object(H.a)(B.a.mark(function e(t){var a,n;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.prev=1,e.next=4,z.a.get(te+"/menus?token="+a);case 4:n=e.sent,t({type:"pages_get_menu",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:E,payload:{success:!1,message:"Unknown problem with ajax, while get menu"}});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},le=function(e){return function(){var t=Object(H.a)(B.a.mark(function t(a){var n,r;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token"),t.prev=1,t.next=4,z.a.get(te+"/pages?token="+n);case 4:r=t.sent,a({type:"pages_save_pages",payload:r.data.data}),e(r.data.data),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("___probem with ajax______",t.t0),a({type:E,payload:{success:!1,message:"Unknown problem with ajax, while get pages"}});case 13:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},ie=function(e,t){return function(){var a=Object(H.a)(B.a.mark(function a(n){var r,s;return B.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=localStorage.getItem("token"),a.prev=1,a.next=4,z.a.get(te+"/pages/"+e+"?token="+r);case 4:s=a.sent,n({type:"pages_save_page",payload:s.data.data}),t(s.data.data),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),console.log("___probem with ajax______",a.t0),n({type:E,payload:{success:!1,message:"Unknown problem with ajax, while get page"}});case 13:case"end":return a.stop()}},a,null,[[1,9]])}));return function(e){return a.apply(this,arguments)}}()},ue=function(e){return function(t){t({type:"pages_add_menu",payload:e})}},pe=function(e,t){return function(){var a=Object(H.a)(B.a.mark(function a(n){var r,s,c;return B.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=localStorage.getItem("token"),s=Y(e.id),a.prev=2,c=null,!s){a.next=10;break}return a.next=7,z.a.post(te+"/menus?token="+r,e);case 7:c=a.sent,a.next=13;break;case 10:return a.next=12,z.a.put(te+"/menus/"+e.id+"?token="+r,e);case 12:c=a.sent;case 13:c.data.success?(n({type:E,payload:{success:!0,message:"Data was saved"}}),t()):n({type:E,payload:{success:!1,message:c.data.error}}),a.next=20;break;case 16:a.prev=16,a.t0=a.catch(2),console.log("___probem with ajax - save menu______",a.t0),n({type:E,payload:{success:!1,message:"Unknown problem with ajax, while save Menu"}});case 20:case"end":return a.stop()}},a,null,[[2,16]])}));return function(e){return a.apply(this,arguments)}}()},de=function(e,t){return function(){var a=Object(H.a)(B.a.mark(function a(n){var r,s,c;return B.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=localStorage.getItem("token"),a.prev=1,s=null,!e.id){a.next=9;break}return a.next=6,z.a.put(te+"/pages/"+e.id+"?token="+r,e);case 6:s=a.sent,a.next=12;break;case 9:return a.next=11,z.a.post(te+"/pages?token="+r,e);case 11:s=a.sent;case 12:s.data.success?(c=e.id?e.id:s.data.data.pageId,n({type:E,payload:{success:!0,message:"Data was saved"}}),t(c)):n({type:E,payload:{success:!1,message:s.data.error}}),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(1),console.log("___probem with ajax______",a.t0),n({type:E,payload:{success:!1,message:"Unknown problem with ajax, while save page"}});case 19:case"end":return a.stop()}},a,null,[[1,15]])}));return function(e){return a.apply(this,arguments)}}()},me=function(){return function(e){e({type:"pages_clear_page"})}},ge=function(e){return function(t){t({type:"pages_change_menu",payload:e})}},he=function(e){return function(t){t({type:"pages_change_page",payload:e})}},fe=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(A.a)(this,Object(T.a)(t).call(this,e))).delPage=function(){window.confirm("Are you sure you wish to delete this item?")&&a.props.delPage(a.data.id,function(){a.props.getPages(function(e){})})},a.downPage=function(){a.props.changePosition("down",a.data.id,"pages",function(){a.props.getPages(function(e){})})},a.upPage=function(){a.props.changePosition("up",a.data.id,"pages",function(){a.props.getPages(function(e){})})},a.getDataFromProps=function(){var e=a.props.pages.filter(function(e){return e.id===a.data.id});return e.length?e[0]:{}},a.editPage=function(){var e=a.getDataFromProps();a.props.changePage(e)},a.getPagesByMenuIdAndPageId=function(e,t,a){var n=[],r=!0,s=!1,c=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var i=o.value;a&&parseInt(i.menu_id)===t&&parseInt(i.page_id)===a&&n.push(i),a||parseInt(i.menu_id)!==t||i.page_id||n.push(i)}}catch(u){s=!0,c=u}finally{try{r||null==l.return||l.return()}finally{if(s)throw c}}return n},a.data=a.props.data,a}return Object(F.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=$(this.props.config.langs),t=this.getDataFromProps(),a=this.getPagesByMenuIdAndPageId(this.props.pages,t.menu_id,t.page_id);return p.a.createElement("div",{className:this.props.child?"mb-2 row ml-3":"mb-2 row"},p.a.createElement("div",{className:0===t.published?"text-secondary":""},t.short_title[e]+("inner"===t.type?" ("+t.id+")":"")||""),p.a.createElement("div",{className:"ml-2 mr-2",onClick:this.editPage},p.a.createElement("i",{className:"far fa-edit cursor-pointer"})),p.a.createElement("div",{className:"trash",onClick:this.delPage},p.a.createElement("i",{className:"fas fa-trash cursor-pointer","aria-hidden":"true"})),a.length>1&&p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"ml-2",onClick:this.downPage},p.a.createElement("i",{className:"fas fa-arrow-down cursor-pointer"})),p.a.createElement("div",{className:"ml-2",onClick:this.upPage},p.a.createElement("i",{className:"fas fa-arrow-up cursor-pointer"}))))}}]),t}(u.Component);var ve=Object(v.b)(function(e){return{page:e.pages.page,pages:e.pages.pages,config:e.pages.config}},n)(fe),ye=(a(77),function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(A.a)(this,Object(T.a)(t).call(this,e))).getPageTreeChildren=function(e){if(!e)return!1;var t=[],a=!0,n=!1,r=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var o=s.value;if(o.children){var l=!0,i=!1,u=void 0;try{for(var p,d=o.children[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var m=p.value;t.push(m)}}catch(g){i=!0,u=g}finally{try{l||null==d.return||d.return()}finally{if(i)throw u}}}}}catch(g){n=!0,r=g}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}return t},a.handleChangeName=function(e){var t=a.props.config.langs,n=V(a.props.menus,a.data.id),r=e.target.attributes.getNamedItem("data-lang").value,s=ee(t,n.name,r,e.target.value),c=Object(f.a)({},n,{name:s});a.props.changeMenu(c)},a.getCountMenu=function(){var e=[],t=!0,n=!1,r=void 0;try{for(var s,c=a.props.menus[Symbol.iterator]();!(t=(s=c.next()).done);t=!0){var o=s.value;Y(o.id)||e.push(o)}}catch(l){n=!0,r=l}finally{try{t||null==c.return||c.return()}finally{if(n)throw r}}return e.length},a.saveMenu=function(){var e=V(a.props.menus,a.data.id);e.position||(e.position=a.getCountMenu()+1),a.props.saveMenu(e,function(){a.props.getMenus()})},a.delMenu=function(){window.confirm("Are you sure you wish to delete this item?")&&a.props.delMenu(a.data.id)},a.showPageTitle=function(e){for(var t=[],a=0,n=Object.keys(e);a<n.length;a++){var r=e[n[a]];if(t.push(p.a.createElement(ve,{key:r.id,data:r,child:!1})),r.children)for(var s=0,c=Object.keys(r.children);s<c.length;s++){var o=c[s],l=r.children[o];t.push(p.a.createElement(ve,{key:l.id,data:l,child:!0}))}}return t},a.downMenu=function(){a.props.changePosition("down",a.data.id,"menus",function(){a.props.getMenus()})},a.upMenu=function(){a.props.changePosition("up",a.data.id,"menus",function(){a.props.getMenus()})},a.changeLang=function(e){var t=e.target.attributes.getNamedItem("data-lang").value;a.setState({defaultLang:t})},a.data=a.props.data,a.state={defaultLang:$(a.props.config.langs)},a}return Object(F.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e={},t=!1;Array.isArray(this.props.menus)&&(e=V(this.props.menus,this.data.id),t=Y(e.id));var a=function(e,t){if(!e.length)return!1;var a=e.filter(function(e){return parseInt(e.menu_id)===t});if(!a.length)return!1;var n=[],r=!0,s=!1,c=void 0;try{for(var o,l=a[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var i=o.value;i.page_id||n.push(i)}}catch(O){s=!0,c=O}finally{try{r||null==l.return||l.return()}finally{if(s)throw c}}var u=[],p=!0,d=!1,m=void 0;try{for(var g,h=a[Symbol.iterator]();!(p=(g=h.next()).done);p=!0)u[g.value.page_id]=[]}catch(O){d=!0,m=O}finally{try{p||null==h.return||h.return()}finally{if(d)throw m}}var f=!0,v=!1,y=void 0;try{for(var b,k=a[Symbol.iterator]();!(f=(b=k.next()).done);f=!0){var E=b.value;E.page_id&&u[E.page_id].push(E)}}catch(O){v=!0,y=O}finally{try{f||null==k.return||k.return()}finally{if(v)throw y}}for(var _=0,w=n;_<w.length;_++){var j=w[_];u[j.id]&&(j.children=u[j.id])}return n}(this.props.pages,this.data.id),n=this.props.config.langs,r=[];if(n&&n.length>1){var s=0,c=!0,o=!1,l=void 0;try{for(var i,u=n[Symbol.iterator]();!(c=(i=u.next()).done);c=!0){var d=i.value,m=!this.state.defaultLang&&!s||this.state.defaultLang===d?"mr-2 cursor-pointer text-primary":"mr-2 cursor-pointer text-secondary";r.push(p.a.createElement("span",{key:"choice_"+d,"data-lang":d,className:m,onClick:this.changeLang},d)),s++}}catch(_){o=!0,l=_}finally{try{c||null==u.return||u.return()}finally{if(o)throw l}}}var g=[],h=!0,f=!1,v=void 0;try{for(var y,b=n[Symbol.iterator]();!(h=(y=b.next()).done);h=!0){var k=y.value,E=this.state.defaultLang===k?"form-control col-5 mr-1":"form-control col-5 mr-1 d-none";g.push(p.a.createElement("input",{type:"text",placeholder:"Menu name",name:"name",key:k,className:E,onChange:this.handleChangeName,"data-lang":k,value:e.name[k]||""}))}}catch(_){f=!0,v=_}finally{try{h||null==b.return||b.return()}finally{if(f)throw v}}return p.a.createElement("div",null,p.a.createElement("div",{className:"form-group container mb-2 mt-3"},p.a.createElement("div",{className:"row"},r),p.a.createElement("div",{className:"row"},g,p.a.createElement("div",{className:"ml-2",onClick:this.saveMenu},p.a.createElement("i",{className:"far fa-save cursor-pointer"})),p.a.createElement("div",{className:"ml-2 trash",onClick:this.delMenu},p.a.createElement("i",{className:"fas fa-trash cursor-pointer","aria-hidden":"true"})),!t&&this.getCountMenu()>1&&p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"ml-2",onClick:this.downMenu},p.a.createElement("i",{className:"fas fa-arrow-down cursor-pointer"})),p.a.createElement("div",{className:"ml-2",onClick:this.upMenu},p.a.createElement("i",{className:"fas fa-arrow-up cursor-pointer"}))))),p.a.createElement("div",{className:"ml-3"},this.showPageTitle(a)))}}]),t}(u.Component));var be=Object(v.b)(function(e){return{menus:e.pages.menus,pages:e.pages.pages,config:e.pages.config}},n)(ye),ke=a(35),Ee=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(A.a)(this,Object(T.a)(t).call(this,e))).getDataFromProps=function(e){var t=a.props.pages.filter(function(t){return t.id===e});return t.length?t[0]:{}},a.editPage=function(e){var t=a.getDataFromProps(e);a.props.changePage(t)},a.delImage=function(){window.confirm("Are you sure you wish to delete this item?")&&a.props.delImage(a.props.imageId,function(){a.props.getPages(function(e){a.editPage(a.props.page.id)})})},a.downImage=function(){a.props.changePosition("down",a.props.imageId,"images",function(){a.props.getPages(function(e){a.editPage(a.props.page.id)})})},a.upImage=function(){a.props.changePosition("up",a.props.imageId,"images",function(){a.props.getPages(function(e){a.editPage(a.props.page.id)})})},a.handleChangeAlt=function(e){var t=a.props.config.langs,n=G(a.props.page.images,a.props.imageId),r=e.target.attributes.getNamedItem("data-lang").value,s=ee(t,n.alt,r,e.target.value);n.alt=s;var c=Q(a.props.page.images,n),o=Object(f.a)({},a.props.page,{images:c});a.props.changePage(o)},a.changeLang=function(e){var t=e.target.attributes.getNamedItem("data-lang").value;a.setState({defaultLang:t})},a.state={defaultLang:$(a.props.config.langs)},a}return Object(F.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=G(this.props.page.images,this.props.imageId),t=this.props.config.langs,a=[];if(t&&t.length>1){var n=0,r=!0,s=!1,c=void 0;try{for(var o,l=t[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var i=o.value,u=!this.state.defaultLang&&!n||this.state.defaultLang===i?"mr-2 cursor-pointer text-primary":"mr-2 cursor-pointer text-secondary";a.push(p.a.createElement("span",{key:"choice_"+i,"data-lang":i,className:u,onClick:this.changeLang},i)),n++}}catch(w){s=!0,c=w}finally{try{r||null==l.return||l.return()}finally{if(s)throw c}}}var d=[],m=!0,g=!1,h=void 0;try{for(var f,v=t[Symbol.iterator]();!(m=(f=v.next()).done);m=!0){var y=f.value,b=this.state.defaultLang===y?"form-control col-10 mr-1":"form-control col-10 mr-1 d-none";d.push(p.a.createElement("input",{type:"text",placeholder:"Image alt",name:"alt",key:y,className:b,onChange:this.handleChangeAlt,"data-lang":y,value:e&&e.alt&&e.alt[y]?e.alt[y]:""}))}}catch(w){g=!0,h=w}finally{try{m||null==v.return||v.return()}finally{if(g)throw h}}var k=e?I+e.fs.small:"",E=e&&e.alt?e.alt:"",_=this.props.page.images?this.props.page.images.length:0;return p.a.createElement("div",{className:"ml-1  mt-3 row"},p.a.createElement("img",{src:k,alt:E}),p.a.createElement("div",{className:"ml-1 row"},a,_>1&&p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"ml-2",onClick:this.downImage},p.a.createElement("i",{className:"fas fa-arrow-down cursor-pointer"})),p.a.createElement("div",{className:"ml-2",onClick:this.upImage},p.a.createElement("i",{className:"fas fa-arrow-up cursor-pointer"}))),p.a.createElement("div",{className:"trash ml-2",onClick:this.delImage},p.a.createElement("i",{className:"fas fa-trash cursor-pointer","aria-hidden":"true"})),d))}}]),t}(u.Component);var _e=Object(v.b)(function(e){return{page:e.pages.page,pages:e.pages.pages,config:e.pages.config}},n)(Ee),we=a(145),je=a(146),Oe=a.n(je),Ne=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(A.a)(this,Object(T.a)(t).call(this,e))).getRootPages=function(){var e=parseInt(a.props.page.menu_id),t=!!a.props.page.id&&parseInt(a.props.page.id),n=[],r=!0,s=!1,c=void 0;try{for(var o,l=a.props.pages[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var i=o.value;i.menu_id===e&&i.page_id&&n.push(i.page_id)}}catch(v){s=!0,c=v}finally{try{r||null==l.return||l.return()}finally{if(s)throw c}}var u=[];if(u.push([]),Z(t,n))return u;var p=!0,d=!1,m=void 0;try{for(var g,h=a.props.pages[Symbol.iterator]();!(p=(g=h.next()).done);p=!0){var f=g.value;f.menu_id===e&&!f.page_id&&t&&f.id!==t&&u.push(f),f.menu_id!==e||f.page_id||t||u.push(f)}}catch(v){d=!0,m=v}finally{try{p||null==h.return||h.return()}finally{if(d)throw m}}return u},a.getPagePositionByMenuId=function(e){return e=e?parseInt(e):null,X(a.props.pages,e).length+1},a.getDataFromProps=function(e){var t=a.props.pages.filter(function(t){return t.id===e});return t.length?t[0]:{}},a.editPage=function(e){var t=a.getDataFromProps(e);a.props.changePage(t)},a.handleSubmit=function(e){e.preventDefault();var t=Object(f.a)({},a.props.page);t.position=a.getPagePositionByMenuId(t.menu_id),a.images&&t.images&&(t.images=t.images.concat(a.images)),a.props.savePage(t,function(e){document.getElementsByName("images")[0].value=null,a.images=[],a.props.getPages(function(t){a.editPage(e)})})},a.handleClearInput=function(e){e.preventDefault(),a.props.clearPage()},a.onEditorChange=function(e,t){var n=a.props.config.langs,r=ee(n,a.props.page.content,t,e),s=Object(f.a)({},a.props.page,{content:r});a.props.changePage(s)},a.handleChangePage=function(e){var t;t="published"===e.target.name||"commented"===e.target.name||"after_login"===e.target.name?Object(f.a)({},a.props.page,Object(ke.a)({},e.target.name,e.target.checked)):Object(f.a)({},a.props.page,Object(ke.a)({},e.target.name,e.target.value)),a.props.changePage(t)},a.handleChangePageTitle=function(e){var t=a.props.config.langs,n=e.target.attributes.getNamedItem("data-lang").value,r=ee(t,a.props.page.title,n,e.target.value),s=Object(f.a)({},a.props.page,{title:r});a.props.changePage(s)},a.handleChangePageShortTitle=function(e){var t=a.props.config.langs,n=e.target.attributes.getNamedItem("data-lang").value,r=ee(t,a.props.page.short_title,n,e.target.value),s=Object(f.a)({},a.props.page,{short_title:r});a.props.changePage(s)},a.handleChangePageDescription=function(e){var t=a.props.config.langs,n=e.target.attributes.getNamedItem("data-lang").value,r=ee(t,a.props.page.description,n,e.target.value),s=Object(f.a)({},a.props.page,{description:r});a.props.changePage(s)},a.handleChangePageContent=function(e){var t=a.props.config.langs,n=e.target.attributes.getNamedItem("data-lang").value,r=ee(t,a.props.page.content,n,e.target.value),s=Object(f.a)({},a.props.page,{content:r});a.props.changePage(s)},a.createImage=function(e){a.images=[];for(var t=function(t){var n=e[t],r=e[t].name,s=new FileReader;s.onload=function(e){a.images.push({data:e.target.result,name:r})},s.readAsDataURL(n)},n=0;n<e.length;n++)t(n)},a.handleUploadFile=function(e){var t=e.target.files;t.length&&a.createImage(t)},a.showImages=function(e){var t="";return Array.isArray(e)&&(t=e.map(function(e,t){return p.a.createElement(_e,{key:e.id,imageId:e.id})})),t},a.getPageTypes=function(){return a.props.config&&a.props.config.page_types||[]},a.changeLang=function(e){var t=e.target.attributes.getNamedItem("data-lang").value,n=e.target.attributes.getNamedItem("data-column").value;"title"===n?a.setState({defaultLangTitle:t}):"short_title"===n?a.setState({defaultLangShortTitle:t}):"description"===n?a.setState({defaultLangDescription:t}):"content"===n&&a.setState({defaultLangContent:t})},a.defaultLang=$(a.props.config.langs),a.state={defaultLangTitle:a.defaultLang,defaultLangShortTitle:a.defaultLang,defaultLangDescription:a.defaultLang,defaultLangContent:a.defaultLang},a}return Object(F.a)(t,e),Object(R.a)(t,[{key:"getMenuValues",value:function(){var e=[];e.push({id:null,name:""});var t=!0,a=!1,n=void 0;try{for(var r,s=this.props.menus[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var c=r.value;Y(c.id)||e.push(c)}}catch(o){a=!0,n=o}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}return e}},{key:"render",value:function(){var e=this,t=this.props.config.langs,a=$(this.props.config.langs),n=this.getMenuValues(),r=this.getRootPages(),s=this.getPageTypes(),c=[];this.props.page.id&&(c=this.props.page.images);var o=this.props.page.id?"Edit page":"Add page",l=[];if("cms"===this.props.page.type){var i=!0,u=!1,d=void 0;try{for(var m,g=function(){var t=m.value,a=e.props.page.content&&e.props.page.content[t]?e.props.page.content[t]:"";l.push(p.a.createElement(we.CKEditor,{key:"cke_"+t,editor:Oe.a,data:a,onChange:function(a,n){var r=n.getData();e.onEditorChange(r,t)}}))},h=t[Symbol.iterator]();!(i=(m=h.next()).done);i=!0)g()}catch(Y){u=!0,d=Y}finally{try{i||null==h.return||h.return()}finally{if(u)throw d}}}var f=[],v=[],y=[],b=[];if(t&&t.length>1){var k="mr-2 mt-3 cursor-pointer text-primary",E="mr-2 mt-3  cursor-pointer text-secondary",_=0,w=!0,j=!1,O=void 0;try{for(var N,x=t[Symbol.iterator]();!(w=(N=x.next()).done);w=!0){var C=N.value,P=!this.state.defaultLangTitle&&!_||this.state.defaultLangTitle===C?k:E,S=!this.state.defaultLangShortTitle&&!_||this.state.defaultLangShortTitle===C?k:E,I=!this.state.defaultLangDescription&&!_||this.state.defaultLangDescription===C?k:E,L=!this.state.defaultLangContent&&!_||this.state.defaultLangContent===C?k:E;f.push(p.a.createElement("span",{key:"title_"+C,"data-lang":C,"data-column":"title",className:P,onClick:this.changeLang},C)),v.push(p.a.createElement("span",{key:"short_title_"+C,"data-lang":C,"data-column":"short_title",className:S,onClick:this.changeLang},C)),y.push(p.a.createElement("span",{key:"description_"+C,"data-lang":C,"data-column":"description",className:I,onClick:this.changeLang},C)),"projects"!==this.props.page.type&&b.push(p.a.createElement("span",{key:"content_"+C,"data-lang":C,"data-column":"content",className:L,onClick:this.changeLang},C)),_++}}catch(Y){j=!0,O=Y}finally{try{w||null==x.return||x.return()}finally{if(j)throw O}}}var D=[],M=[],R=[],A=[];if(t){var T=0,F=!0,U=!1,J=void 0;try{for(var B,H=t[Symbol.iterator]();!(F=(B=H.next()).done);F=!0){var K=B.value,z=!this.state.defaultLangTitle&&!T||this.state.defaultLangTitle===K?"form-control col-5 mr-1":"form-control col-5 mr-1 d-none",W=!this.state.defaultLangShortTitle&&!T||this.state.defaultLangShortTitle===K?"form-control col-5 mr-1":"form-control col-5 mr-1 d-none",q=!this.state.defaultLangDescription&&!T||this.state.defaultLangDescription===K?"form-control":"form-control d-none",V=!this.state.defaultLangContent&&!T||this.state.defaultLangContent===K?"form-control content-text":"form-control content-text d-none";D.push(p.a.createElement("input",{type:"text",placeholder:"Title",name:"title",key:"t_"+K,className:z,onChange:this.handleChangePageTitle,"data-lang":K,value:this.props.page.title&&this.props.page.title[K]?this.props.page.title[K]:""})),M.push(p.a.createElement("input",{type:"text",placeholder:"Short title",name:"short_title",key:"st_"+K,className:W,onChange:this.handleChangePageShortTitle,"data-lang":K,value:this.props.page.short_title&&this.props.page.short_title[K]?this.props.page.short_title[K]:""})),R.push(p.a.createElement("textarea",{type:"text",placeholder:"Description",name:"description",rows:"4",cols:"50",key:"desc_"+K,className:q,onChange:this.handleChangePageDescription,"data-lang":K,value:this.props.page.description&&this.props.page.description[K]?this.props.page.description[K]:""})),A.push(p.a.createElement("textarea",{type:"text",placeholder:"Content",name:"content",rows:"20",cols:"80",key:"content_"+K,style:{fontSize:"10pt"},className:V,onChange:this.handleChangePageContent,"data-lang":K,value:this.props.page.content&&this.props.page.content[K]?this.props.page.content[K]:""})),T++}}catch(Y){U=!0,J=Y}finally{try{F||null==H.return||H.return()}finally{if(U)throw J}}}return p.a.createElement("div",null,p.a.createElement("form",{onSubmit:this.handleSubmit},p.a.createElement("button",{type:"submit",className:"add-page-btn  btn btn-primary mt-2 mb-2"},p.a.createElement("i",{className:"fas fa-plus"})," ",o),p.a.createElement("button",{className:"add-page-btn  btn btn-info ml-3 mt-2 mb-2",onClick:this.handleClearInput},"Clear data"),p.a.createElement("div",{className:"row mt-1"},f),D,p.a.createElement("div",{className:"row"},v),M,p.a.createElement("div",{className:"row"},y),R,p.a.createElement("div",{className:"form-check row mt-2"},p.a.createElement("input",{className:"col-1",name:"published",type:"checkbox",checked:this.props.page.published||0,onChange:this.handleChangePage}),p.a.createElement("label",null,"Published")),p.a.createElement("div",{className:"form-check row"},p.a.createElement("input",{className:"col-1",name:"commented",type:"checkbox",checked:this.props.page.commented||0,onChange:this.handleChangePage}),p.a.createElement("label",null,"Commented")),p.a.createElement("div",{className:"form-check row"},p.a.createElement("input",{className:"col-1",name:"after_login",type:"checkbox",checked:this.props.page.after_login||0,onChange:this.handleChangePage}),p.a.createElement("label",null,"Available after log in")),p.a.createElement("div",{className:"form-group"},p.a.createElement("select",{name:"type",onChange:this.handleChangePage,value:this.props.page.type},s.map(function(e){return p.a.createElement("option",{key:e,value:e||""},e||"")})),p.a.createElement("label",{className:"ml-1"},"Type")),"main_page"!==this.props.page.type&&p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"form-group"},p.a.createElement("select",{name:"menu_id",onChange:this.handleChangePage,value:this.props.page.menu_id||""},n.map(function(e){return p.a.createElement("option",{key:e.id,value:e.id||""},e.name[a]||"")})),p.a.createElement("label",{className:"ml-1"},"Menu")),p.a.createElement("div",{className:"form-group"},p.a.createElement("select",{name:"page_id",onChange:this.handleChangePage,value:this.props.page.page_id||""},r.map(function(e){return p.a.createElement("option",{key:e.id||"",value:e.id||""},e.title&&e.title[a]?e.title[a]:"")})),p.a.createElement("label",{className:"ml-1"},"Parent page"))),"cms"===this.props.page.type&&p.a.createElement(p.a.Fragment,null,l),"cms"!==this.props.page.type&&p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"row"},b),A),p.a.createElement("div",{className:"form-group"},p.a.createElement("input",{type:"file",name:"images",onChange:this.handleUploadFile,multiple:!0})),this.showImages(c)))}}]),t}(u.Component);var xe=Object(v.b)(function(e){return{menus:e.pages.menus,pages:e.pages.pages,page:e.pages.page,config:e.pages.config}},n)(Ne),Ce=a(147),Pe=a.n(Ce),Se=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(A.a)(this,Object(T.a)(t).call(this,e))).state={visible:!0},a}return Object(F.a)(t,e),Object(R.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.children!==this.props.children&&(this.setTimer(),this.setState({visible:!0}))}},{key:"componentDidMount",value:function(){this.setTimer()}},{key:"setTimer",value:function(){null!=this._timer&&clearTimeout(this._timer),this._timer=setTimeout(function(){this.setState({visible:!1}),this._timer=null}.bind(this),this.props.delay)}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timer)}},{key:"render",value:function(){return this.state.visible?p.a.createElement("div",null,this.props.children):p.a.createElement("span",null)}}]),t}(p.a.Component),Ie=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(A.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault()},a.getNotRelatedPages=function(){var e=[],t=!0,n=!1,r=void 0;try{for(var s,c=a.props.pages[Symbol.iterator]();!(t=(s=c.next()).done);t=!0){var o=s.value;o.menu_id||"inner"===o.type||e.push(o)}}catch(l){n=!0,r=l}finally{try{t||null==c.return||c.return()}finally{if(n)throw r}}return e},a.getInnerPages=function(){var e=[],t=!0,n=!1,r=void 0;try{for(var s,c=a.props.pages[Symbol.iterator]();!(t=(s=c.next()).done);t=!0){var o=s.value;"inner"===o.type&&e.push(o)}}catch(l){n=!0,r=l}finally{try{t||null==c.return||c.return()}finally{if(n)throw r}}return e},a.showMenuPages=function(e){var t="";return Array.isArray(e)&&(t=e.map(function(e,t){return p.a.createElement(be,{key:e.id,data:e})})),t},a.showPageTitle=function(e){var t="";return Array.isArray(e)&&(t=e.map(function(e,t){return p.a.createElement(ve,{key:e.id,data:e})})),t},a.handleAddMenu=function(){var e={id:"rs_"+Pe.a.generate(),name:"",position:""};a.props.addMenu(e)},a.renderMsg=function(e){return console.log("msg_err",e),JSON.stringify(e,null,2)},a}return Object(F.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getConfig(function(t){t?(e.props.getMenus(),e.props.getPages(function(e){})):alert("You must set at least one language in the .env file")})}},{key:"render",value:function(){var e=!1;this.props.config&&!0===this.props.config.cache_enable&&(e=!0);var t=this.getNotRelatedPages(),a=this.getInnerPages(),n="";if(this.props.pagesRes&&!1===this.props.pagesRes.success){var r="";if("object"!==typeof this.props.pagesRes.message&&"function"!==typeof this.props.pagesRes.message||null===this.props.pagesRes.message)if(Array.isArray(this.props.pagesRes.message))for(var s in this.props.pagesRes.message)r+=s+": "+this.props.pagesRes.message[s][0]+"  ";else r=this.props.pagesRes.message;else for(var c in this.props.pagesRes.message)r+=this.props.pagesRes.message[c][0]+" ";n=p.a.createElement(Se,{delay:9e3},p.a.createElement("div",{className:"alert alert-danger mb-4",role:"alert"},r))}this.props.pagesRes&&!0===this.props.pagesRes.success&&(n=p.a.createElement(Se,{delay:9e3},p.a.createElement("div",{className:"alert alert-success  mb-4",role:"alert"},this.props.pagesRes.message)));var o=this.props.menus;return p.a.createElement("div",{className:"mt-3 mb-2"},!0===e&&p.a.createElement("div",{className:"alert alert-danger",role:"alert"},"cache_enable is true on the .env file on server. After the changes, clear the cache in the 'Settings' tab."),p.a.createElement("div",{className:"wrapMsg"},n),p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-5"},p.a.createElement("button",{id:"add_menu",className:"btn btn-primary mt-2 mb-2",onClick:this.handleAddMenu},p.a.createElement("i",{className:"fas fa-plus"})," Add menu"),p.a.createElement("form",{onSubmit:this.handleSubmit},this.showMenuPages(o)),t.length>0&&p.a.createElement(p.a.Fragment,null,p.a.createElement("h5",{className:"mt-4"},"Pages not related to menu"),p.a.createElement("div",{className:"ml-3"},this.showPageTitle(t))),a.length>0&&p.a.createElement(p.a.Fragment,null,p.a.createElement("h5",{className:"mt-4"},"Inner boxes"),p.a.createElement("div",{className:"ml-3"},this.showPageTitle(a)))),p.a.createElement("div",{className:"col-7"},p.a.createElement(xe,null))))}}]),t}(u.Component);var Le=Object(v.b)(function(e){return{menus:e.pages.menus,pages:e.pages.pages,config:e.pages.config,pagesRes:e.pages.pages_res}},n)(Ie),De=function(e){function t(){return Object(M.a)(this,t),Object(A.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(R.a)(t,[{key:"renderLinks",value:function(){var e="/admin"+L+"/pages",t="/admin"+L+"/users",a="/admin"+L+"/products",n="/admin"+L+"/signout",r="/admin"+L+"/contacts",s="/admin"+L+"/checkouts",c="/admin"+L+"/settings";if(this.props.authenticated)return p.a.createElement("div",{className:"container-fluid"},p.a.createElement("div",{className:"container"},D.includes("pages")&&p.a.createElement(p.a.Fragment,null,p.a.createElement(g.b,{to:e},"Pages")),D.includes("users")&&p.a.createElement(p.a.Fragment,null,p.a.createElement(g.b,{className:"ml-4",to:t},"Users")),D.includes("products")&&p.a.createElement(p.a.Fragment,null,p.a.createElement(g.b,{className:"ml-4",to:a},"Products")),D.includes("checkouts")&&p.a.createElement(p.a.Fragment,null,p.a.createElement(g.b,{className:"ml-4",to:s},"Checkouts")),D.includes("contacts")&&p.a.createElement(p.a.Fragment,null,p.a.createElement(g.b,{className:"ml-4",to:r},"Contacts")),D.includes("settings")&&p.a.createElement(p.a.Fragment,null,p.a.createElement(g.b,{className:"ml-4",to:c},"Settings"))),p.a.createElement(g.b,{to:n},"Sign Out"))}},{key:"render",value:function(){return p.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},this.renderLinks())}}]),t}(u.Component);var Me=Object(v.b)(function(e){return{authenticated:e.auth.authenticated}})(De),Re=function(e){function t(){return Object(M.a)(this,t),Object(A.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return p.a.createElement("div",null,p.a.createElement(Me,null),p.a.createElement("div",{className:"mt-3  container"},p.a.createElement("h2",{className:"mb-3"},"CMS - menus and pages"),p.a.createElement(Le,null)))}}]),t}(u.Component),Ae=Object(v.b)(null,n)(U(Re)),Te=W(I,""),Fe=function(e){return function(){var t=Object(H.a)(B.a.mark(function t(a){var n,r;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token"),t.prev=1,t.next=4,z.a.get(Te+"/config?token="+n);case 4:r=t.sent,a({type:"config_get_config",payload:r.data.data}),e(r.data.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:_,payload:{success:!1,message:"Unknown problem with ajax, while get config"}});case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},Ue=function(e,t,a,n){return function(){var r=Object(H.a)(B.a.mark(function r(s){var c;return B.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c=localStorage.getItem("token"),r.prev=1,r.next=4,z.a.get(Te+"/"+a+"/position/"+e+"/"+t+"?token="+c);case 4:r.sent.data.success?(s({type:_,payload:{success:!0,message:"Data was saved"}}),n()):s({type:_,payload:{success:!1,message:"Problem with change position "+a}}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),s({type:_,payload:{success:!1,message:"Unknown problem with ajax, while change "+a+" position"}});case 11:case"end":return r.stop()}},r,null,[[1,8]])}));return function(e){return r.apply(this,arguments)}}()},Je=function(e,t){return function(){var a=Object(H.a)(B.a.mark(function a(n){var r,s;return B.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=localStorage.getItem("token"),a.prev=1,a.next=4,z.a.delete(Te+"/images/"+e+"?token="+r);case 4:(s=a.sent).data.success?(n({type:_,payload:{success:!0,message:"Data was saved"}}),t()):n({type:_,payload:{success:!1,message:s.data.error}}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),n({type:_,payload:{success:!1,message:"Unknown problem with ajax, while deleteing image"}});case 11:case"end":return a.stop()}},a,null,[[1,8]])}));return function(e){return a.apply(this,arguments)}}()},Be=function(){return function(){var e=Object(H.a)(B.a.mark(function e(t){var a,n;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.prev=1,e.next=4,z.a.get(Te+"/pages/type/shop?token="+a);case 4:n=e.sent,t({type:"products_get_pages",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:_,payload:{success:!1,message:"Unknown problem with ajax, while get pages for products"}});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},He=function(e){return function(){var t=Object(H.a)(B.a.mark(function t(a){var n,r;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token"),t.prev=1,t.next=4,z.a.get(Te+"/products?token="+n);case 4:(r=t.sent).data.success?(a({type:"products_get_products",payload:r.data.data}),e(r.data.data)):a({type:_,payload:{success:!1,message:"Unknown problem with ajax, while get products0"}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:_,payload:{success:!1,message:"Unknown problem with ajax, while get products"}});case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},Ke=function(e,t){return function(){var a=Object(H.a)(B.a.mark(function a(n){var r,s,c;return B.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=localStorage.getItem("token"),a.prev=1,s=null,!e.id){a.next=9;break}return a.next=6,z.a.put(Te+"/products/"+e.id+"?token="+r,e);case 6:s=a.sent,a.next=12;break;case 9:return a.next=11,z.a.post(Te+"/products?token="+r,e);case 11:s=a.sent;case 12:s.data.success?(c=e.id?e.id:s.data.data.productId,n({type:_,payload:{success:!0,message:"Data was saved"}}),n({type:"products_get_product",payload:e}),t(c)):n({type:_,payload:{success:!1,message:s.data.error}}),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(1),console.log("___probem with ajax______",a.t0),n({type:_,payload:{success:!1,message:"Unknown problem with ajax, while save page"}});case 19:case"end":return a.stop()}},a,null,[[1,15]])}));return function(e){return a.apply(this,arguments)}}()},ze=function(e){return function(){var t=Object(H.a)(B.a.mark(function t(a){var n,r;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token"),t.prev=1,t.next=4,z.a.delete(Te+"/products/"+e+"?token="+n);case 4:(r=t.sent).data.success?a({type:_,payload:{success:!0,message:"Data was saved"}}):a({type:_,payload:{success:!1,message:r.data.error}}),a({type:"products_delete_product",payload:e}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:_,payload:{success:!1,message:"Unknown problem with ajax, while deleteing product"}});case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},We=function(e){return function(t){t({type:"products_set_product",payload:e})}},qe=function(e){return function(t){t({type:"products_change_product",payload:e})}},Ve=a(28),Ye=(a(130),function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(A.a)(this,Object(T.a)(t).call(this,e))).getDataFromProps=function(e){var t=a.props.products.filter(function(t){return t.id===e});return t.length?t[0]:{}},a.editProduct=function(e){var t=a.getDataFromProps(e);a.props.changeProduct(t)},a.delImage=function(){a.props.delImage(a.props.imageId,function(){a.props.getProducts(function(e){a.editProduct(a.props.product.id)})})},a.downImage=function(){a.props.changePosition("down",a.props.imageId,"images",function(){a.props.getProducts(function(e){a.editProduct(a.props.product.id)})})},a.upImage=function(){a.props.changePosition("up",a.props.imageId,"images",function(){a.props.getProducts(function(e){a.editProduct(a.props.product.id)})})},a.handleChangeAlt=function(e){var t=a.props.config.langs,n=G(a.props.product.images,a.props.imageId),r=e.target.attributes.getNamedItem("data-lang").value,s=ee(t,n.alt,r,e.target.value);n.alt=s;var c=Q(a.props.product.images,n),o=Object(f.a)({},a.props.product,{images:c});a.props.changeProduct(o)},a.changeLang=function(e){var t=e.target.attributes.getNamedItem("data-lang").value;a.setState({defaultLang:t})},a.state={defaultLang:$(a.props.config.langs)},a}return Object(F.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=G(this.props.product.images,this.props.imageId),t=this.props.config.langs,a=[];if(t&&t.length>1){var n=0,r=!0,s=!1,c=void 0;try{for(var o,l=t[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var i=o.value,u=!this.state.defaultLang&&!n||this.state.defaultLang===i?"mr-2 cursor-pointer text-primary":"mr-2 cursor-pointer text-secondary";a.push(p.a.createElement("span",{key:"choice_"+i,"data-lang":i,className:u,onClick:this.changeLang},i)),n++}}catch(k){s=!0,c=k}finally{try{r||null==l.return||l.return()}finally{if(s)throw c}}}var d=[];if(t){var m=!0,g=!1,h=void 0;try{for(var f,v=t[Symbol.iterator]();!(m=(f=v.next()).done);m=!0){var y=f.value,b=this.state.defaultLang===y?"form-control col-10 mr-1":"form-control col-10 mr-1 d-none";d.push(p.a.createElement("input",{type:"text",placeholder:"Image alt",name:"alt",key:y,className:b,onChange:this.handleChangeAlt,"data-lang":y,value:e.alt&&e.alt[y]?e.alt[y]:""}))}}catch(k){g=!0,h=k}finally{try{m||null==v.return||v.return()}finally{if(g)throw h}}}return p.a.createElement("div",{className:"ml-1  mt-3 row"},p.a.createElement("img",{src:I+e.fs.small,alt:e.alt}),p.a.createElement("div",{className:"ml-1 row"},a,this.props.product.images.length>1&&p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"ml-2",onClick:this.downImage},p.a.createElement("i",{className:"fas fa-arrow-down cursor-pointer"})),p.a.createElement("div",{className:"ml-2",onClick:this.upImage},p.a.createElement("i",{className:"fas fa-arrow-up cursor-pointer"}))),p.a.createElement("div",{className:"trash ml-2",onClick:this.delImage},p.a.createElement("i",{className:"fas fa-trash cursor-pointer","aria-hidden":"true"})),d))}}]),t}(u.Component));var Ge=Object(v.b)(function(e){return{product:e.products.product,products:e.products.products,config:e.pages.config}},r)(Ye),Qe=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(A.a)(this,Object(T.a)(t).call(this,e))).getShopPages=function(){var e=[];if(a.props.shop_pages){var t=!0,n=!1,r=void 0;try{for(var s,c=a.props.shop_pages[Symbol.iterator]();!(t=(s=c.next()).done);t=!0){var o=s.value;e.push(o)}}catch(l){n=!0,r=l}finally{try{t||null==c.return||c.return()}finally{if(n)throw r}}}return e},a.handleSubmit=function(e){e.preventDefault();var t=Object(f.a)({},a.props.product);a.images&&t.images&&(t.images=t.images.concat(a.images)),a.props.saveProduct(t,function(e){document.getElementsByName("images")[0].value=null,a.images=[],a.props.getProducts(function(e){}),a.setState({productsCheck:null})})},a.handleChangeProduct=function(e){var t;t="published"===e.target.name?Object(f.a)({},a.props.product,Object(ke.a)({},e.target.name,e.target.checked)):Object(f.a)({},a.props.product,Object(ke.a)({},e.target.name,e.target.value)),a.props.changeProduct(t)},a.showImages=function(e,t){var a="";return Array.isArray(e)&&(a=e.map(function(e,a){return p.a.createElement(Ge,{key:e.id,imageId:e.id,productId:t})})),a},a.createImage=function(e){a.images=[];for(var t=function(t){var n=e[t],r=e[t].name,s=new FileReader;s.onload=function(e){a.images.push({data:e.target.result,name:r})},s.readAsDataURL(n)},n=0;n<e.length;n++)t(n)},a.handleUploadFile=function(e){var t=e.target.files;t.length&&a.createImage(t)},a.handleChangePageName=function(e){var t=a.props.config.langs,n=e.target.attributes.getNamedItem("data-lang").value,r=ee(t,a.props.product.product_name,n,e.target.value),s=Object(f.a)({},a.props.product,{product_name:r});a.props.changeProduct(s)},a.handleChangePageDescription=function(e){var t=a.props.config.langs,n=e.target.attributes.getNamedItem("data-lang").value,r=ee(t,a.props.product.product_description,n,e.target.value),s=Object(f.a)({},a.props.product,{product_description:r});a.props.changeProduct(s)},a.changeLang=function(e){var t=e.target.attributes.getNamedItem("data-lang").value,n=e.target.attributes.getNamedItem("data-column").value;"product_name"===n?a.setState({defaultLangName:t}):"product_description"===n&&a.setState({defaultLangDescription:t})},a.defaultLang=$(a.props.config.langs),a.state={defaultLangName:a.defaultLang,defaultLangDescription:a.defaultLang},a}return Object(F.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getConfig(function(t){t?(e.props.getShopPages(),e.props.getProducts(function(e){})):alert("You must set at least one language in the .env file")})}},{key:"render",value:function(){var e=this.props.config.langs,t=$(this.props.config.langs),a=[];this.props.product.id&&(a=this.props.product.images);var n=[];n=this.getShopPages();var r=this.props.product.id?"Edit product":"Add product",s=[],c=[];if(e&&e.length>1){var o="mr-2 mt-3 cursor-pointer text-primary",l="mr-2 mt-3  cursor-pointer text-secondary",i=0,u=!0,d=!1,m=void 0;try{for(var g,h=e[Symbol.iterator]();!(u=(g=h.next()).done);u=!0){var f=g.value,v=!this.state.defaultLangName&&!i||this.state.defaultLangName===f?o:l,y=!this.state.defaultLangDescription&&!i||this.state.defaultLangDescription===f?o:l;s.push(p.a.createElement("span",{key:"name_"+f,"data-lang":f,"data-column":"product_name",className:v,onClick:this.changeLang},f)),c.push(p.a.createElement("span",{key:"description_"+f,"data-lang":f,"data-column":"product_description",className:y,onClick:this.changeLang},f)),i++}}catch(S){d=!0,m=S}finally{try{u||null==h.return||h.return()}finally{if(d)throw m}}}var b=[],k=[];if(e){var E=0,_=!0,w=!1,j=void 0;try{for(var O,N=e[Symbol.iterator]();!(_=(O=N.next()).done);_=!0){var x=O.value,C=!this.state.defaultLangName&&!E||this.state.defaultLangName===x?"form-control col-5 mr-1":"form-control col-5 mr-1 d-none",P=!this.state.defaultLangDescription&&!E||this.state.defaultLangDescription===x?"form-control":"form-control d-none";b.push(p.a.createElement("input",{type:"text",placeholder:"Name",name:"product_name",key:"t_"+x,className:C,onChange:this.handleChangePageName,"data-lang":x,value:this.props.product.product_name&&this.props.product.product_name[x]?this.props.product.product_name[x]:""})),k.push(p.a.createElement("textarea",{type:"text",placeholder:"Description",name:"product_description",rows:"4",cols:"50",key:"desc_"+x,className:P,onChange:this.handleChangePageDescription,"data-lang":x,value:this.props.product.product_description&&this.props.product.product_description[x]?this.props.product.product_description[x]:""})),E++}}catch(S){w=!0,j=S}finally{try{_||null==N.return||N.return()}finally{if(w)throw j}}}return p.a.createElement("div",null,p.a.createElement("form",{onSubmit:this.handleSubmit},p.a.createElement("button",{type:"submit",className:"add-page-btn  btn btn-primary mt-2 mb-2"},p.a.createElement("i",{className:"fas fa-plus"})," ",r),p.a.createElement("div",{className:"form-group"},p.a.createElement("div",{className:"row mt-1"},s),b),p.a.createElement("div",{className:"form-group"},p.a.createElement("input",{type:"text",placeholder:"Sku",name:"sku",className:"form-control col-5",onChange:this.handleChangeProduct,value:this.props.product.sku||""})),p.a.createElement("div",{className:"form-group"},p.a.createElement("input",{type:"text",placeholder:"Price",name:"price",className:"form-control col-5",onChange:this.handleChangeProduct,value:this.props.product.price||""})),p.a.createElement("div",{className:"form-group"},p.a.createElement("input",{className:"col-1",name:"published",type:"checkbox",checked:this.props.product.published||0,onChange:this.handleChangeProduct}),p.a.createElement("label",null,"Published")),p.a.createElement("div",{className:"form-group"},p.a.createElement("div",{className:"row"},c),k),p.a.createElement("div",{className:"form-group"},p.a.createElement("select",{name:"page_id",onChange:this.handleChangeProduct,value:this.props.product.page_id||""},n.map(function(e){return p.a.createElement("option",{key:e.id||"",value:e.id||""},e.title&&e.title[t]?e.title[t]:"")})),p.a.createElement("label",{className:"ml-1"},"Page")),p.a.createElement("div",{className:"form-group"},p.a.createElement("input",{type:"file",name:"images",onChange:this.handleUploadFile,multiple:!0})),this.showImages(a,this.props.product.id)))}}]),t}(u.Component);var Xe=Object(v.b)(function(e){return{product:e.products.product,products:e.products.products,shop_pages:e.products.shop_pages,config:e.pages.config}},r)(Qe),Ze=function(e){function t(){return Object(M.a)(this,t),Object(A.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return p.a.createElement("input",{type:"checkbox",checked:this.props.active})}}]),t}(p.a.Component);function $e(e,t){return p.a.createElement(Ze,{active:e})}var et=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(A.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).handleEditProduct=function(){if(a.state&&a.state.productsCheck){var e=q(a.props.products,a.state.productsCheck);a.props.changeProduct(e)}else if(a.props.product.id){var t=q(a.props.products,a.props.product.id);a.props.changeProduct(t)}a.refs.table.setState({selectedRowKeys:[]})},a.handleDeleteProduct=function(){a.state&&a.state.productsCheck&&a.props.deleteProduct(a.state.productsCheck)},a.onRowSelect=function(e,t,n){var r=null;t&&(r=e.id),a.setState({productsCheck:r})},a}return Object(F.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.props.getProducts(function(e){})}},{key:"render",value:function(){var e=this.props.products,t="";this.props.productsRes&&!1===this.props.productsRes.success&&(t=p.a.createElement(Se,{delay:5e3},p.a.createElement("div",{className:"alert alert-danger",role:"alert"},JSON.stringify(this.props.productsRes.message,null,2)))),this.props.productsRes&&!0===this.props.productsRes.success&&(t=p.a.createElement(Se,{delay:5e3},p.a.createElement("div",{className:"alert alert-success",role:"alert"},JSON.stringify(this.props.productsRes.message,null,2))));var a={mode:"radio",clickToSelect:!0,onSelect:this.onRowSelect};return p.a.createElement("div",{className:"mt-3 mb-2"},p.a.createElement("div",{className:"wrapMsg"},t),p.a.createElement(Xe,{key:"1"}),p.a.createElement("br",null),p.a.createElement("button",{onClick:this.handleEditProduct},"Edit"),p.a.createElement("button",{onClick:this.handleDeleteProduct},"Delete"),p.a.createElement("div",{className:"row"},p.a.createElement(Ve.BootstrapTable,{ref:"table",data:e,selectRow:a},p.a.createElement(Ve.TableHeaderColumn,{dataField:"id",isKey:!0},"ID"),p.a.createElement(Ve.TableHeaderColumn,{dataField:"product_name_default_lang"},"Product Name"),p.a.createElement(Ve.TableHeaderColumn,{dataField:"sku"},"Product SKU"),p.a.createElement(Ve.TableHeaderColumn,{dataField:"published",dataFormat:$e},"Published"))))}}]),t}(u.Component);var tt=Object(v.b)(function(e){return{config:e.pages.config,product:e.products.product,products:e.products.products,productsRes:e.products.products_res}},r)(et),at=function(e){function t(){return Object(M.a)(this,t),Object(A.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return p.a.createElement("div",null,p.a.createElement(Me,null),p.a.createElement("div",{className:"mt-3  container"},p.a.createElement("h2",{className:"mb-3"},"Products"),p.a.createElement(tt,null)))}}]),t}(u.Component),nt=Object(v.b)(null,r)(U(at)),rt=W(I,""),st=function(e){return function(){var t=Object(H.a)(B.a.mark(function t(a){var n,r;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token"),t.prev=1,t.next=4,z.a.get(rt+"/checkouts?token="+n);case 4:r=t.sent,a({type:"checkouts_get_checkouts",payload:r.data.data}),e(r.data.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"checkouts_res",payload:{success:!1,message:"Unknown problem with ajax, while get checkouts"}});case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},ct=function(e,t){return function(){var a=Object(H.a)(B.a.mark(function a(n){var r,s;return B.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=localStorage.getItem("token"),a.prev=1,a.next=4,z.a.put(rt+"/checkouts/"+e+"?token="+r,{is_pay:1});case 4:(s=a.sent).data.success?(n({type:"checkouts_res",payload:{success:!0,message:"Data was saved"}}),t()):n({type:"checkouts_res",payload:{success:!1,message:s.data.error}}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),console.log("___probem with ajax - update checkout______",a.t0),n({type:"checkouts_res",payload:{success:!1,message:"Unknown problem with ajax, while update checkouts"}});case 12:case"end":return a.stop()}},a,null,[[1,8]])}));return function(e){return a.apply(this,arguments)}}()},ot=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(A.a)(this,Object(T.a)(t).call(this,e))).isPay=function(e){a.props.updateCheckout(e,function(){a.setState({isPay:1})})},a.data=a.props.data,a.state={isPay:a.data.is_pay},a}return Object(F.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return p.a.createElement("tr",null,p.a.createElement("td",null,this.data.email),p.a.createElement("td",null,this.data.telephone),p.a.createElement("td",null,this.data.id),p.a.createElement("td",{className:"text-right"},p.a.createElement("strong",null,this.data.price_total_add_deliver," z\u0142")),p.a.createElement("td",{className:"text-right"},this.data.price_total," z\u0142"),p.a.createElement("td",{className:"text-right"},this.data.price_deliver," z\u0142"),p.a.createElement("td",null,this.data.baskets.map(function(e){return p.a.createElement("div",{className:"text-nowrap",key:e.product_id},p.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:e.product_url},e.product_name)," ",e.qty," x ",e.price," z\u0142")})),p.a.createElement("td",null,this.data.created_at.split(".")[0].replace("T"," ")),p.a.createElement("td",null,this.state.isPay?"Paid":p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"ml-2 trash",onClick:this.isPay.bind(this,this.data.id)},p.a.createElement("i",{className:"far fa-money-bill-alt  cursor-pointer","aria-hidden":"true"})))))}}]),t}(u.Component);var lt=Object(v.b)(function(e){return{checkouts:e.checkouts,checkoutsRes:e.checkouts.checkouts_res}},s)(ot),it=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(A.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).showItems=function(e){var t="";return Array.isArray(e)&&(t=e.map(function(e,t){return p.a.createElement(lt,{key:e.id,data:e})})),t},a}return Object(F.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.props.getCheckouts(function(e){})}},{key:"render",value:function(){var e=this.props.checkouts.checkouts,t="";return this.props.checkoutsRes&&!1===this.props.checkoutsRes.success&&(t=p.a.createElement(Se,{delay:5e3},p.a.createElement("div",{className:"alert alert-danger",role:"alert"},JSON.stringify(this.props.checkoutsRes.message,null,2)))),this.props.checkoutsRes&&!0===this.props.checkoutsRes.success&&(t=p.a.createElement(Se,{delay:5e3},p.a.createElement("div",{className:"alert alert-success",role:"alert"},JSON.stringify(this.props.checkoutsRes.message,null,2)))),p.a.createElement("div",{className:"mt-3 mb-2"},p.a.createElement("div",{className:"wrapMsg"},t),p.a.createElement("table",{className:"table table-bordered"},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",{scope:"col"},"Email"),p.a.createElement("th",{scope:"col"},"Telephone"),p.a.createElement("th",{scope:"col"},"No"),p.a.createElement("th",{scope:"col"},"Price total"),p.a.createElement("th",{scope:"col"},"Price basket"),p.a.createElement("th",{scope:"col"},"Price deliver"),p.a.createElement("th",{scope:"col"},"Basket"),p.a.createElement("th",{scope:"col"},"Created At"),p.a.createElement("th",{scope:"col"},"Action"))),p.a.createElement("tbody",null,this.showItems(e))))}}]),t}(u.Component);var ut=Object(v.b)(function(e){return{checkouts:e.checkouts,checkoutsRes:e.checkouts.checkouts_res}},s)(it),pt=function(e){function t(){return Object(M.a)(this,t),Object(A.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return p.a.createElement("div",null,p.a.createElement(Me,null),p.a.createElement("div",{className:"mt-3  container"},p.a.createElement("h2",{className:"mb-3"},"Checkouts"),p.a.createElement(ut,null)))}}]),t}(u.Component),dt=Object(v.b)(null,r)(U(pt)),mt=W(I,""),gt=function(e){return function(){var t=Object(H.a)(B.a.mark(function t(a){var n;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token"),t.prev=1,t.next=4,z.a.get(mt+"/config/clearcache?token="+n);case 4:e(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log("Unknown problem with ajax, while get clearcache");case 10:case"end":return t.stop()}},t,null,[[1,7]])}));return function(e){return t.apply(this,arguments)}}()},ht=function(e){return function(){var t=Object(H.a)(B.a.mark(function t(a){var n;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token"),t.prev=1,t.next=4,z.a.get(mt+"/config/createsitemap?token="+n);case 4:e(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log("Unknown problem with ajax, while get createsitemap");case 10:case"end":return t.stop()}},t,null,[[1,7]])}));return function(e){return t.apply(this,arguments)}}()},ft=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(A.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).clearCache=function(){a.props.getClearcache(function(){alert("Success: clear Cache")})},a}return Object(F.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return p.a.createElement("div",null,p.a.createElement("div",{className:"ml-2 trash",onClick:this.clearCache},p.a.createElement("i",{className:"fas fa-cog  cursor-pointer","aria-hidden":"true"})," Clear cache "))}}]),t}(u.Component);var vt=Object(v.b)(function(e){return{checkouts:e.checkouts,checkoutsRes:e.checkouts.checkouts_res}},c)(ft),yt=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(A.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).createSitemap=function(){a.props.getClearcache(function(){alert("Success: create sitemap")})},a}return Object(F.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return p.a.createElement("div",null,p.a.createElement("div",{className:"ml-2 trash",onClick:this.createSitemap},p.a.createElement("i",{className:"fas fa-cog  cursor-pointer","aria-hidden":"true"})," Create sitemap "))}}]),t}(u.Component);var bt=Object(v.b)(function(e){return{checkouts:e.checkouts,checkoutsRes:e.checkouts.checkouts_res}},c)(yt),kt=function(e){function t(){return Object(M.a)(this,t),Object(A.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return p.a.createElement("div",null,p.a.createElement(Me,null),p.a.createElement("div",{className:"mt-3  container"},p.a.createElement("h2",{className:"mb-3"},"Settings"),p.a.createElement("br",null),p.a.createElement(vt,null),p.a.createElement("br",null),p.a.createElement(bt,null)))}}]),t}(u.Component),Et=Object(v.b)(null,r)(U(kt)),_t=W(I,""),wt=function(){return function(){var e=Object(H.a)(B.a.mark(function e(t){var a,n;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.prev=1,e.next=4,z.a.get(_t+"/users/clients?token="+a);case 4:n=e.sent,t({type:"users_get_clients",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"users_res",payload:{success:!1,message:"Unknown problem with ajax, while get clients"}});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},jt=function(e){function t(){return Object(M.a)(this,t),Object(A.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.props.getClients()}},{key:"render",value:function(){var e=this.props.clients,t="";return this.props.usersRes&&!1===this.props.usersRes.success&&(t=p.a.createElement(Se,{delay:5e3},p.a.createElement("div",{className:"alert alert-danger",role:"alert"},JSON.stringify(this.props.usersRes.message,null,2)))),this.props.usersRes&&!0===this.props.usersRes.success&&(t=p.a.createElement(Se,{delay:5e3},p.a.createElement("div",{className:"alert alert-success",role:"alert"},JSON.stringify(this.props.usersRes.message,null,2)))),p.a.createElement("div",{className:"mt-3 mb-2"},p.a.createElement("div",{className:"wrapMsg"},t),p.a.createElement("div",{className:"row"},p.a.createElement(Ve.BootstrapTable,{data:e},p.a.createElement(Ve.TableHeaderColumn,{dataField:"id",isKey:!0},"ID"),p.a.createElement(Ve.TableHeaderColumn,{dataField:"name"},"Client Name"),p.a.createElement(Ve.TableHeaderColumn,{dataField:"email"},"Client Email"))))}}]),t}(u.Component);var Ot=Object(v.b)(function(e){return{clients:e.users.clients,usersRes:e.users.users_res}},o)(jt),Nt=function(e){function t(){return Object(M.a)(this,t),Object(A.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return p.a.createElement("div",null,p.a.createElement(Me,null),p.a.createElement("div",{className:"mt-3  container"},p.a.createElement("h2",{className:"mb-3"},"Users"),p.a.createElement(Ot,null)))}}]),t}(u.Component),xt=Object(v.b)(null,o)(U(Nt)),Ct=W(I,""),Pt=function(e){return function(){var t=Object(H.a)(B.a.mark(function t(a){var n,r;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token"),t.prev=1,t.next=4,z.a.get(Ct+"/contacts?token="+n);case 4:r=t.sent,a({type:"contacts_get_contacts",payload:r.data.data}),e(r.data.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"contacts_res",payload:{success:!1,message:"Unknown problem with ajax, while get contacts"}});case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},St=function(e){return function(){var t=Object(H.a)(B.a.mark(function t(a){var n,r;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token"),t.prev=1,t.next=4,z.a.delete(Ct+"/contacts/"+e+"?token="+n);case 4:(r=t.sent).data.success?a({type:"contacts_res",payload:{success:!0,message:"Data was saved"}}):a({type:"contacts_res",payload:{success:!1,message:r.data.error}}),a({type:"contacts_delete_contact",payload:e}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"contacts_res",payload:{success:!1,message:"Unknown problem with ajax, while deleteing contact"}});case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},It=function(e){function t(e){var a;return Object(M.a)(this,t),(a=Object(A.a)(this,Object(T.a)(t).call(this,e))).delItem=function(){a.props.deleteContact(a.data.id)},a.data=a.props.data,a}return Object(F.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return p.a.createElement("tr",null,p.a.createElement("td",null,this.data.email),p.a.createElement("td",null,this.data.message),p.a.createElement("td",null,this.data.created_at_format),p.a.createElement("td",null,p.a.createElement("div",{className:"ml-2 trash",onClick:this.delItem},p.a.createElement("i",{className:"fas fa-trash cursor-pointer","aria-hidden":"true"}))))}}]),t}(u.Component);var Lt=Object(v.b)(function(e){return{contacts:e.contacts,contactsRes:e.contacts.contacts_res}},l)(It),Dt=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(A.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).showItems=function(e){var t="";return Array.isArray(e)&&(t=e.map(function(e,t){return p.a.createElement(Lt,{key:e.id,data:e})})),t},a}return Object(F.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.props.getContacts(function(e){})}},{key:"render",value:function(){var e=this.props.contacts.contacts,t="";return this.props.contactsRes&&!1===this.props.contactsRes.success&&(t=p.a.createElement(Se,{delay:5e3},p.a.createElement("div",{className:"alert alert-danger",role:"alert"},JSON.stringify(this.props.contactsRes.message,null,2)))),this.props.contactsRes&&!0===this.props.contactsRes.success&&(t=p.a.createElement(Se,{delay:5e3},p.a.createElement("div",{className:"alert alert-success",role:"alert"},JSON.stringify(this.props.contactsRes.message,null,2)))),p.a.createElement("div",{className:"mt-3 mb-2"},p.a.createElement("div",{className:"wrapMsg"},t),p.a.createElement("table",{className:"table table-bordered"},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",{scope:"col"},"Email"),p.a.createElement("th",{scope:"col"},"Message"),p.a.createElement("th",{scope:"col"},"Created At"),p.a.createElement("th",{scope:"col"},"Action"))),p.a.createElement("tbody",null,this.showItems(e))))}}]),t}(u.Component);var Mt=Object(v.b)(function(e){return{contacts:e.contacts,contactsRes:e.contacts.contacts_res}},l)(Dt),Rt=function(e){function t(){return Object(M.a)(this,t),Object(A.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return p.a.createElement("div",null,p.a.createElement(Me,null),p.a.createElement("div",{className:"mt-3  container"},p.a.createElement("h2",{className:"mb-3"},"Contacts"),p.a.createElement(Mt,null)))}}]),t}(u.Component),At=Object(v.b)(null,l)(U(Rt)),Tt=function(e,t){return function(){var a=Object(H.a)(B.a.mark(function a(n){var r;return B.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,z.a.post(I+"/api/login",e);case 3:r=a.sent,n({type:"auth_user",payload:r.data.data.token}),localStorage.setItem("token",r.data.data.token),t(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:"auth_error",payload:"Invalid login credentials"});case 12:case"end":return a.stop()}},a,null,[[0,9]])}));return function(e){return a.apply(this,arguments)}}()},Ft=function(e){return function(t){localStorage.removeItem("token"),t({type:"auth_user",payload:""}),e()}},Ut=function(e){function t(){return Object(M.a)(this,t),Object(A.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.signout(function(){var t="/admin"+L+"/";e.props.history.push(t)})}},{key:"render",value:function(){return p.a.createElement("div",null,"Sorry to see you go")}}]),t}(u.Component),Jt=Object(v.b)(null,i)(Ut),Bt=a(338),Ht=a(337),Kt=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(A.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){a.props.signin(e,function(){var e="/admin"+L+"/pages";return a.props.history.push(e)})},a}return Object(F.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){if(this.props.auth){var e="/admin"+L+"/pages";this.props.history.push(e)}}},{key:"render",value:function(){var e=this.props.handleSubmit;return p.a.createElement("form",{className:"container mt-4",onSubmit:e(this.onSubmit)},p.a.createElement("fieldset",{className:"col-4 form-group"},p.a.createElement("label",null,"Email"),p.a.createElement(Bt.a,{className:"form-control  mb-2",name:"email",type:"text",component:"input",autoComplete:"none"})),p.a.createElement("fieldset",{className:"col-4  form-group"},p.a.createElement("label",null,"Password"),p.a.createElement(Bt.a,{className:"form-control  mb-2",name:"password",type:"password",component:"input",autoComplete:"none"})),p.a.createElement("div",null,this.props.errorMessage),p.a.createElement("button",{className:"btn btn-primary mt-2 mr-sm-2"},"Sign In!"))}}]),t}(u.Component);var zt=Object(y.compose)(Object(v.b)(function(e){return{errorMessage:e.auth.errorMessage,auth:e.auth.authenticated}},i),Object(Ht.a)({form:"signin"}))(Kt),Wt="/admin"+L,qt="/admin"+L+"/pages",Vt="/admin"+L+"/products",Yt="/admin"+L+"/users",Gt="/admin"+L+"/contacts",Qt="/admin"+L+"/checkouts",Xt="/admin"+L+"/settings",Zt="/admin"+L+"/signout",$t="/admin"+L+"/signin";m.a.render(p.a.createElement(function(e){var t=e.children,a=e.initialState,n=void 0===a?{}:a,r=Object(y.createStore)(P,Object(f.a)({auth:{authenticated:localStorage.getItem("token")}},n),Object(b.composeWithDevTools)(Object(y.applyMiddleware)(S.a)));return p.a.createElement(v.a,{store:r},t)},null,p.a.createElement(g.a,null,p.a.createElement(function(e){var t=e.children;return p.a.createElement("div",null,t)},null,p.a.createElement(h.a,{path:Wt,exact:!0,component:zt}),p.a.createElement(h.a,{path:qt,component:Ae}),p.a.createElement(h.a,{path:Vt,component:nt}),p.a.createElement(h.a,{path:Yt,component:xt}),p.a.createElement(h.a,{path:Gt,component:At}),p.a.createElement(h.a,{path:Qt,component:dt}),p.a.createElement(h.a,{path:Xt,component:Et}),p.a.createElement(h.a,{path:Zt,component:Jt}),p.a.createElement(h.a,{path:$t,component:zt})))),document.querySelector("#root"))},77:function(e,t,a){}},[[150,1,2]]]);
//# sourceMappingURL=main.d22bc49a.chunk.js.map