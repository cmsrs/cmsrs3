{"version":3,"sources":["actions/types.js","reducers/auth.js","reducers/pages.js","reducers/products.js","reducers/users.js","reducers/contacts.js","reducers/index.js","config.js","components/requireAuth.js","helpers/pages.js","actions/pages.js","components/pages/PageTitle.js","components/pages/Menu.js","components/pages/Image.js","components/pages/Page.js","helpers/Expire.js","components/pages/MenuPages.js","components/Header.js","components/Pages.js","actions/products.js","components/products/ImageProduct.js","components/products/AddProduct.js","components/products/Product.js","components/Products.js","actions/users.js","components/users/Clients.js","components/Users.js","actions/contacts.js","components/contacts/Item.js","components/contacts/Contact.js","components/Contacts.js","actions/index.js","components/auth/Signout.js","components/auth/Signin.js","index.js","Root.js","components/App.js"],"names":["PAGES_RES","PRODUCTS_RES","INITIAL_STATE","authenticated","errorMessage","menus","page","pages","config","products","product","check_products","users","contacts","combineReducers","auth","state","arguments","length","undefined","action","type","Object","objectSpread","payload","menusCopy","slice","push","title","short_title","published","commented","menu_id","map","elem","id","pages_res","menusCopy2","menuDel","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","item2","value","err","return","pagesCopy2","pagesDel","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","users_res","clients","products_res","shop_pages","name","sku","price","description","page_id","images","productsCopy2","productsDel","itemp","contacts_res","contactsCopy2","contactsDel","form","formReducer","SERVER_URL","ADMIN_URL_SECRET","requireAuth","ChildComponent","ComposedComponent","_Component","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","inherits","createClass","key","shouldNavigateAway","props","urlAmin","history","react_default","a","createElement","Component","connect","getPrefixUrl","serverUrl","apiSecret","getDataFromItems","items","data","filter","item","parseInt","getMenuDataById","menuId","ret","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","isNewRecord","getImageById","imageId","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","image","changeItemInArr","arr","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","getImages","pageId","getPagesByMenuId","allPages","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","inArray","needle","haystack","i","getDefaultLang","langs","getNewTranslateLangsObj","currentData","lang","newVal","newTranslateValueData","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","lll","prefixUrl","delImage","callback","_ref","asyncToGenerator","regenerator_default","mark","_callee","dispatch","token","response","wrap","_context","prev","localStorage","getItem","axios","delete","sent","success","message","error","t0","stop","_x","changePosition","direction","itemId","menusOrPagesOrImg","_ref2","_callee2","_context2","get","_x2","delMenu","_ref3","_callee3","isNewMenu","_context3","_x3","delPage","_ref4","_callee4","_context4","_x4","getConfig","_ref5","_callee5","_context5","_x5","getMenus","_ref6","_callee6","_context6","_x6","getPages","_ref7","_callee7","_context7","console","log","_x7","addMenu","menu","saveMenu","_ref8","_callee8","_context8","post","put","_x8","savePage","_ref9","_callee9","_context9","_x9","changeMenu","changePage","PageTitle","_this","call","window","confirm","getDataFromProps","downPage","upPage","editPage","getPagesByMenuIdAndPageId","defaultLang","className","child","onClick","aria-hidden","Fragment","actions","Menu","getPageTreeChildren","pagesTree","childeren","p","handleChangeName","event","stateMenu","target","attributes","getNamedItem","newMenuData","getCountMenu","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","position","showPageTitle","_i","_Object$keys","keys","pages_PageTitle","children","_i2","_Object$keys2","ii","downMenu","upMenu","changeLang","setState","isNew","Array","isArray","pagesByMenuId2","tree","pk","page2","_tree","t","createTreePagesByMenuId","choiceLang","hide","data-lang","names","placeholder","onChange","Image","downImage","upImage","handleChangeAlt","alt","newPageData","alts","src","fs","small","Page","getRootPages","parentIds","getPagePositionByMenuId","handleSubmit","preventDefault","concat","document","getElementsByName","onEditorChange","content","handleChangePage","defineProperty","checked","handleChangePageTitle","handleChangePageShortTitle","handleChangePageDescription","handleChangePageContent","createImage","files","_loop","f","reader","FileReader","onload","e","result","readAsDataURL","handleUploadFile","showImages","index","pages_Image","getPageTypes","page_types","column","defaultLangTitle","defaultLangShortTitle","defaultLangDescription","defaultLangContent","menuVal","_this2","menuValues","getMenuValues","rootPages","pageTypes","label","Ccontent","_loop2","contentCKE","ckeditor","editor","ClassicEditor","getData","choiceLangTitle","choiceLangShortTitle","choiceLangDescription","choiceLangContent","classShow","classHide","hideTitle","hideShortTitle","hideDescription","hideContent","data-column","shortTitle","rows","cols","style","fontSize","onSubmit","after_login","page_type","multiple","Expire","visible","nextProps","setTimer","_timer","clearTimeout","setTimeout","bind","delay","React","MenuPages","getNotRelatedPages","showMenuPages","pages_Menu","handleAddMenu","shortid","generate","renderMsg","JSON","stringify","alert","cache_enable","notRelatedPages","msg","pagesRes","msgHtml","helpers_Expire","role","pages_Page","Header","urlPages","urlUsers","urlProducts","urlSignout","urlContacts","react_router_dom","to","renderLinks","Pages","components_Header","pages_MenuPages","getShopPages","getProducts","saveProduct","productId","deleteProduct","setProduct","changeProduct","ImageProduct","newProductData","AddProduct","shopPages","shopPage","d","productsCheck","handleChangeProduct","products_ImageProduct","defaultLang0","htmlFor","Product","handleEditProduct","refs","table","selectedRowKeys","handleDeleteProduct","onRowSelect","row","isSelected","copy","productsRes","selectRowProp","mode","clickToSelect","onSelect","products_AddProduct","lib","ref","selectRow","dataField","isKey","Products","products_Product","getClients","Clients","usersRes","Users","users_Clients","getContacts","deleteContact","contactId","Item","delItem","email","created_at_format","contactsRes","Contact","showItems","contacts_Item","scope","Contacts","contacts_Contact","signin","formProps","setItem","signout","removeItem","Signout","Signin","Field","component","autoComplete","compose","reduxForm","urlAdmin","urlSignin","ReactDOM","render","_ref$initialState","initialState","store","createStore","reducers","composeWithDevTools","applyMiddleware","reduxThunk","es","react_router","path","exact","querySelector"],"mappings":"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","file":"static/js/main.9051fcc1.chunk.js","sourcesContent":["export const AUTH_USER = 'auth_user';\nexport const AUTH_ERROR = 'auth_error';\n\n\nexport const PAGES_ADD_MENU = 'pages_add_menu';\nexport const PAGES_CHANGE_MENU = 'pages_change_menu';\nexport const PAGES_GET_MENU = 'pages_get_menu';\nexport const PAGES_DELETE_MENU = 'pages_delete_menu';\nexport const PAGES_RES = 'pages_res';\n\n\nexport const PAGES_SAVE_PAGE = 'pages_save_page';\nexport const PAGES_CHANGE_PAGE = 'pages_change_page';\nexport const PAGES_GET_PAGES = 'pages_save_pages';\nexport const PAGES_DELETE_PAGE = 'pages_delete_page';\n\nexport const CONFIG_GET_CONFIG = 'config_get_config';\n\nexport const USERS_GET_CLIENTS = 'users_get_clients';\nexport const USERS_RES = 'users_res';\n\nexport const PRODUCTS_GET_PRODUCTS = 'products_get_products';\nexport const PRODUCTS_GET_PAGES = 'products_get_pages';\nexport const PRODUCTS_SAVE_PRODUCT = 'products_get_product';\nexport const PRODUCTS_CHANGE_PRODUCT = 'products_change_product';\n//export const PRODUCTS_CHECK_PRODUCT = 'products_check_product';\nexport const PRODUCTS_SET_PRODUCT = 'products_set_product';\nexport const PRODUCTS_DELETE_PRODUCT = 'products_delete_product';\nexport const PRODUCTS_RES = 'products_res';\n\nexport const CONTACTS_GET_CONTACTS = 'contacts_get_contacts';\nexport const CONTACTS_DELETE_CONTACT = 'contacts_delete_contact';\nexport const CONTACTS_RES = 'contacts_res';\n","import { AUTH_USER, AUTH_ERROR } from '../actions/types';\n\nconst INITIAL_STATE = {\n  authenticated: '',\n  errorMessage: ''\n};\n\nexport default function(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case AUTH_USER:\n      return { ...state, authenticated: action.payload };\n    case AUTH_ERROR:\n      return { ...state, errorMessage: action.payload };\n    default:\n      return state;\n  }\n}\n","\nimport { PAGES_ADD_MENU } from '../actions/types';\n\nimport { PAGES_CHANGE_MENU } from '../actions/types';\nimport { PAGES_RES } from '../actions/types';\nimport { PAGES_GET_MENU } from '../actions/types';\nimport { PAGES_DELETE_MENU } from '../actions/types';\n\nimport { PAGES_SAVE_PAGE, PAGES_CHANGE_PAGE, PAGES_GET_PAGES, PAGES_DELETE_PAGE } from '../actions/types';\n\nimport { CONFIG_GET_CONFIG } from '../actions/types';\n\nconst INITIAL_STATE = {\n  menus: [],\n  page: {},\n  pages: [],\n  config: {}\n};\n\nexport default function(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case PAGES_ADD_MENU:\n      const menusCopy = state.menus.slice();\n      menusCopy.push(action.payload);\n      const ret = { ...state, menus: menusCopy };\n      return ret;\n\n    case PAGES_SAVE_PAGE:\n      const page = { title: '', short_title: '', published: 0, commented: 0, type: 'cms', menu_id: ''  }; //clear input\n      const retP = { ...state, page: page};\n      return retP;\n\n    case PAGES_CHANGE_MENU:\n      let menus = state.menus.map( (elem) => {\n        return ( elem.id === action.payload.id ) ? action.payload : elem;\n      });\n      const ret2 = { ...state, menus: menus, pages_res:{} };\n      return ret2;\n\n    case PAGES_CHANGE_PAGE:\n      let r = { ...state, page: action.payload, pages_res:{} };\n      return r;\n\n    case PAGES_RES:\n      return { ...state, pages_res: action.payload };\n    case PAGES_GET_MENU:\n      const ret4 = { ...state, menus: action.payload };\n      return ret4;\n\n    case PAGES_GET_PAGES:\n      const retPages = { ...state, pages: action.payload };\n      return retPages;\n\n    case CONFIG_GET_CONFIG:\n      const retConfig = { ...state, config: action.payload };\n      return retConfig;\n\n    case PAGES_DELETE_MENU:\n      let menusCopy2 = state.menus.slice();\n      let menuDel = [];\n      for(let item2 of menusCopy2){\n        if(item2.id !== action.payload){\n          menuDel.push(item2);\n        }\n      }\n      return { ...state, menus: menuDel };\n\n    case PAGES_DELETE_PAGE:\n      let pagesCopy2 = state.pages.slice();\n      let pagesDel = [];\n      for(let item2 of pagesCopy2){\n        if(item2.id !== action.payload){\n          pagesDel.push(item2);\n        }\n      }\n      return { ...state, pages: pagesDel };\n\n\n    default:\n      return state;\n  }\n}\n","import { PRODUCTS_GET_PRODUCTS, PRODUCTS_RES, PRODUCTS_GET_PAGES, PRODUCTS_SAVE_PRODUCT, PRODUCTS_CHANGE_PRODUCT, PRODUCTS_SET_PRODUCT, PRODUCTS_DELETE_PRODUCT } from '../actions/types';\n\n//, PRODUCTS_CHECK_PRODUCT\n\nconst INITIAL_STATE = {\n  products: [],\n  product: {},\n  check_products: {}\n};\n\nexport default function(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case PRODUCTS_RES:\n      return { ...state, products_res: action.payload };\n    case PRODUCTS_GET_PRODUCTS:\n      const products1 = { ...state, products: action.payload, products_res:{} };\n      return products1;\n    case PRODUCTS_GET_PAGES:\n      const products2 = { ...state, shop_pages: action.payload, products_res:{} };\n      return products2;\n    case PRODUCTS_SAVE_PRODUCT: //not used\n      const product = { name: '', sku: '', price: 0, description: '', page_id: '', images: []  }; //clear input\n      const retP = { ...state, product: product, products_res:{}};\n      return retP;\n    case PRODUCTS_CHANGE_PRODUCT:\n      //console.log(action.payload);\n      return { ...state, product: action.payload, products_res:{} };\n\n    case PRODUCTS_SET_PRODUCT:\n      return { ...state, product: action.payload, products_res:{} };\n\n    case PRODUCTS_DELETE_PRODUCT:\n      let productsCopy2 = state.products.slice();\n      let productsDel = [];\n      for(let itemp of productsCopy2){\n        if(itemp.id !== action.payload){\n          productsDel.push(itemp);\n        }\n      }\n      return { ...state, products: productsDel, products_res:{} };\n\n\n    // case PRODUCTS_CHECK_PRODUCT:\n    //   let checkProductsCopy = {};\n    //   let key;\n    //\n    //   for (key in state.check_products) {\n    //     checkProductsCopy[key] = state.check_products[key];\n    //   }\n    //   checkProductsCopy[action.payload.id] = action.payload.isSelected;\n    //   return { ...state, check_products: checkProductsCopy, products_res:{} };\n\n    default:\n      return state;\n  }\n}\n","import { USERS_GET_CLIENTS, USERS_RES } from '../actions/types';\n\n\nconst INITIAL_STATE = {\n  users: []\n};\n\nexport default function(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case USERS_RES:\n      return { ...state, users_res: action.payload };\n    case USERS_GET_CLIENTS:\n      const users1 = { ...state, clients: action.payload };\n      return users1;\n\n    default:\n      return state;\n  }\n}\n","import { CONTACTS_GET_CONTACTS, CONTACTS_DELETE_CONTACT, CONTACTS_RES } from '../actions/types';\n\n//, PRODUCTS_CHECK_PRODUCT\n\nconst INITIAL_STATE = {\n  contacts: []\n};\n\nexport default function(state = INITIAL_STATE, action) {\n  switch (action.type) {\n    case CONTACTS_RES:\n      return { ...state, contacts_res: action.payload };\n    case CONTACTS_GET_CONTACTS:\n      return { ...state, contacts: action.payload, contacts_res:{} };\n    case CONTACTS_DELETE_CONTACT:\n      let contactsCopy2 = state.contacts.slice();\n      let contactsDel = [];\n      for(let itemp of contactsCopy2){\n        if(itemp.id !== action.payload){\n          contactsDel.push(itemp);\n        }\n      }\n      return { ...state, contacts: contactsDel, contacts_res:{} };\n\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport { reducer as formReducer } from 'redux-form';\nimport auth from './auth';\nimport pages from './pages';\nimport products from './products';\nimport users from './users';\nimport contacts from './contacts';\n\nexport default combineReducers({\n  auth,\n  pages,\n  users,\n  products,\n  contacts,\n  form: formReducer\n});\n","export const SERVER_URL = 'http://127.0.0.1:8000';\nexport const API_SECRET = '';\nexport const ADMIN_URL_SECRET = ''; \n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { ADMIN_URL_SECRET } from '../config';\n//import { Redirect } from 'react-router-dom'\n\nexport default ChildComponent => {\n  class ComposedComponent extends Component {\n\n    componentDidMount() {\n      this.shouldNavigateAway();\n    }\n\n    componentDidUpdate() {\n      this.shouldNavigateAway();\n    }\n\n    shouldNavigateAway() {\n      if (!this.props.auth) {\n        const urlAmin  = '/admin'+ADMIN_URL_SECRET+'/';\n        this.props.history.push(urlAmin);\n      }\n    }\n\n    render() {\n      return <ChildComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state) {\n    return { auth: state.auth.authenticated };\n  }\n\n  return connect(mapStateToProps)(ComposedComponent);\n};\n","//export const PREFIX_MENU = 'rs_';\nexport const getPrefixUrl = (serverUrl, apiSecret) => {\n    let apiUrl = '';\n    if(apiSecret){\n      apiUrl = '/api/'+apiSecret;\n    }else{\n      apiUrl = '/api';\n    }\n    return serverUrl+apiUrl;\n}\n\nexport const getDataFromItems = (items, id) => {\n  const  data = items.filter( item => {\n    return item.id === parseInt(id);\n  });\n\n\n  if(!data.length){\n    return {};\n  }\n  return data[0];\n}\n\nexport const createTreePagesByMenuId = (pages, menuId) => {\n\n  if(!pages.length){\n      return false;\n  }\n\n  let pagesByMenuId2 = pages.filter( item => {\n    return parseInt(item.menu_id) === menuId;\n  });\n\n  if(!pagesByMenuId2.length){\n    return false;\n  }\n\n  let tree = [];\n  for(let page of pagesByMenuId2){\n    if( !page.page_id ){\n      //tree[page.id] = page;\n      tree.push(page);\n    }\n  }\n\n  let pk = [];\n  for(let page2 of pagesByMenuId2){\n    pk[page2.page_id] = [];\n  }\n\n  //position is importent therefore i use push - insted find py key\n  for(let page2 of pagesByMenuId2){\n    if( page2.page_id ){\n      pk[page2.page_id].push(page2);\n      //tree[page2.page_id]['children'] = p2;\n    }\n  }\n\n  for(let t of tree){\n    if( pk[t.id] ){\n      t['children'] = pk[t.id];\n    }\n  }\n\n  return tree\n};\n\nexport const  getMenuDataById = (menus, menuId) => {\n  let ret = null;\n  for(let item of menus){\n    if(item.id === menuId){\n      ret = item;\n      break;\n    }\n  }\n  return ret;\n};\n\nexport const  isNewRecord = (menuId) => {\n  if( !menuId ){\n    return false;\n  }\n\n  if( menuId[0]+menuId[1]+menuId[2] === 'rs_'){\n    return true;\n  }\n  return false;\n};\n\nexport const  getImageById = (images, imageId) => {\n  let ret = null;\n  for(let image of images){\n    if(image.id === imageId){\n      ret = image;\n      break;\n    }\n  }\n  return ret;\n};\n\nexport const changeItemInArr = ( arr, item ) => {\n  let ret = [];\n\n  for(let a of arr){\n    if(a.id === item.id ){\n      ret.push(item);\n    }else{\n      ret.push(a);\n    }\n  }\n\n  return ret;\n}\n\nexport const getImages = ( pages, pageId ) => {\n\n  const  data = pages.filter( page => {\n    return page.id === pageId\n  });\n\n  if(!data.length){\n    return [];\n  }\n\n  if(!data[0].images.length){\n    return [];\n  }\n\n  return data[0].images;\n}\n\n\n\n\n// export const getPagesByMenuId = ( menuId ) => {\n//   let pages = [];\n//   if(isNewRecord(menuId)){\n//     return pages;\n//   }\n//\n//   for(let page of this.props.pages){\n//     if( page.menu_id === menuId ){\n//       pages.push(page);\n//     }\n//   }\n//   return pages;\n// }\n\n\nexport const getPagesByMenuId = ( allPages, menuId ) => {\n  let pages = [];\n  if(isNewRecord(menuId)){\n    return pages;\n  }\n\n  for(let page of allPages){\n    if( !menuId &&  !page.menu_id){\n      pages.push(page);\n    }else if( parseInt(page.menu_id) === menuId ){\n      pages.push(page);\n    }\n  }\n  return pages;\n}\n\n\nexport const inArray = (needle, haystack) => {\n    let length = haystack.length;\n    for(let i = 0; i < length; i++) {\n        if(haystack[i] === needle) return true;\n    }\n    return false;\n}\n\nexport const getDefaultLang = (langs) => {\n    return langs ? langs[0] : '';\n}\n\nexport const getNewTranslateLangsObj = (langs, currentData, lang, newVal ) => {\n  // console.log('___in____');\n  // console.log(currentData);\n  // console.log(lang);\n  // console.log(newVal);\n  const newTranslateValueData = {};\n  for(let lll of langs){\n    if(lll === lang  ){\n      newTranslateValueData[lll] = newVal;\n    }else{\n      newTranslateValueData[lll] = currentData ? ( currentData[lll] ? currentData[lll] : '' ) : '';\n    }\n  }\n\n  return newTranslateValueData;\n}\n","import axios from 'axios';\nimport { isNewRecord, getPrefixUrl } from '../helpers/pages';\n\nimport { SERVER_URL, API_SECRET } from '../config';\nimport { PAGES_ADD_MENU, PAGES_CHANGE_MENU, PAGES_GET_MENU, PAGES_DELETE_MENU, PAGES_RES } from './types'; //, PAGES_POSITION_MENU\nimport { PAGES_SAVE_PAGE, PAGES_CHANGE_PAGE, PAGES_GET_PAGES, PAGES_DELETE_PAGE } from './types';\nimport { CONFIG_GET_CONFIG } from './types';\n\nconst prefixUrl = getPrefixUrl(SERVER_URL, API_SECRET);\n\nexport const delImage = (imageId, callback) => async dispatch => {\n  const token = localStorage.getItem('token');\n\n  try{\n    const response = await axios.delete(\n      prefixUrl+'/images/'+imageId+'?token='+token\n    );\n\n    if(!response.data.success){\n      //const strErr = JSON.stringify(response.data.error, null, 2);\n      dispatch({ type: PAGES_RES, payload: {success: false, message: response.data.error} });\n    }else{\n      dispatch({ type: PAGES_RES, payload: {success: true, message: \"Data was saved\"} });\n    }\n\n    callback();\n  } catch(e){\n     dispatch({ type: PAGES_RES, payload: {success: false, message: \"Unknown problem with ajax, while deleteing image\"} });\n  }\n}\n\n\nexport const changePosition = (direction, itemId, menusOrPagesOrImg, callback) => async dispatch => {\n  const token = localStorage.getItem('token');\n  try{\n    const response = await axios.get(\n      prefixUrl+'/'+menusOrPagesOrImg+'/position/'+direction+'/'+itemId+'?token='+token\n    );\n\n    if(!response.data.success){\n      dispatch({ type: PAGES_RES, payload: {success: false, message: \"Problem with change position \"+menusOrPagesOrImg} });\n    }else{\n      dispatch({ type: PAGES_RES, payload: {success: true, message: \"Data was saved\"} });\n    }\n\n    callback();\n  } catch(e){\n     dispatch({ type: PAGES_RES, payload: {success: false, message: \"Unknown problem with ajax, while change \"+menusOrPagesOrImg+\" position\"} });\n  }\n}\n\nexport const delMenu = (menuId) => async dispatch => {\n  const token = localStorage.getItem('token');\n  const isNewMenu = isNewRecord(menuId);\n\n  try{\n    if( !isNewMenu ){\n      const response = await axios.delete(\n        prefixUrl+'/menus/'+menuId+'?token='+token\n      );\n\n      if(!response.data.success){\n        //const strErr = JSON.stringify(response.data.error, null, 2);\n        dispatch({ type: PAGES_RES, payload: {success: false, message: response.data.error} });\n      }else{\n        dispatch({ type: PAGES_RES, payload: {success: true, message: \"Data was saved\"} });\n      }\n    }\n\n    dispatch({ type: PAGES_DELETE_MENU, payload: menuId });\n  } catch(e){\n\n     dispatch({ type: PAGES_RES, payload: {success: false, message: \"Unknown problem with ajax, while deleteing menu\"} });\n  }\n}\n\nexport const delPage = (pageId, callback) => async dispatch => {\n  const token = localStorage.getItem('token');\n\n  //console.log(SERVER_URL);\n  try{\n    //console.log( 'del_menuId', menuId );\n    const response = await axios.delete(\n      prefixUrl+'/pages/'+pageId+'?token='+token\n    );\n\n    if(!response.data.success){\n      //const strErr = JSON.stringify(response.data.error, null, 2);\n      dispatch({ type: PAGES_RES, payload: {success: false, message: response.data.error} });\n    }else{\n      dispatch({ type: PAGES_RES, payload: {success: true, message: \"Data was saved\"} });\n      callback();\n    }\n\n    dispatch({ type: PAGES_DELETE_PAGE, payload: pageId });\n  } catch(e){\n     dispatch({ type: PAGES_RES, payload: {success: false, message: \"Unknown problem with ajax, while deleteing page\"} });\n  }\n}\n\nexport const getConfig = (callback) => async dispatch => {\n  const token = localStorage.getItem('token');\n\n  try {\n    const response = await axios.get(\n      prefixUrl+'/config?token='+token\n    );\n    dispatch({ type: CONFIG_GET_CONFIG, payload: response.data.data });\n    callback(response.data.data);\n\n  } catch(e){\n     dispatch({ type: PAGES_RES, payload: {success: false, message: \"Unknown problem with ajax, while get config\"} });\n  }\n};\n\n\nexport const getMenus = () => async dispatch => {\n  const token = localStorage.getItem('token');\n\n  try {\n    const response = await axios.get(\n      prefixUrl+'/menus?token='+token\n    );\n    //console.log(\"response\",response.data.data);\n    dispatch({ type: PAGES_GET_MENU, payload: response.data.data });\n    //callback();\n\n  } catch(e){\n     dispatch({ type: PAGES_RES, payload: {success: false, message: \"Unknown problem with ajax, while get menu\"} });\n  }\n};\n\n\nexport const getPages = (callback) => async dispatch => {\n  const token = localStorage.getItem('token');\n\n  try {\n    const response = await axios.get(\n      prefixUrl+'/pages?token='+token\n    );\n    //console.log(\"response\",response.data.data);\n\n    dispatch({ type: PAGES_GET_PAGES, payload: response.data.data });\n    callback(response.data.data);\n\n  } catch(e){\n    console.log('___probem with ajax______', e);\n     dispatch({ type: PAGES_RES, payload: {success: false, message: \"Unknown problem with ajax, while get pages\"} });\n  }\n};\n\nexport const addMenu = (menu) => dispatch => {\n  dispatch({ type: PAGES_ADD_MENU, payload: menu });\n};\n\n\nexport const saveMenu = (menu, callback) => async  dispatch => {\n\n  const token = localStorage.getItem('token');\n  const isNewMenu = isNewRecord(menu.id);\n\n  try {\n\n    let response = null;\n    if( isNewMenu ){\n      response = await axios.post(\n        prefixUrl+'/menus?token='+token,\n        menu\n      );\n    }else{\n      response = await axios.put(\n        prefixUrl+'/menus/'+menu.id+'?token='+token,\n        menu\n      );\n    }\n\n    if(!response.data.success){\n      //const strErr = JSON.stringify(response.data.error, null, 2);\n      dispatch({ type: PAGES_RES, payload: {success: false, message: response.data.error} });\n    }else{\n      dispatch({ type: PAGES_RES, payload: {success: true, message: \"Data was saved\"} });\n      callback();\n    }\n\n  } catch (e) {\n     console.log('___probem with ajax - save menu______', e);\n     dispatch({ type: PAGES_RES, payload: {success: false, message: \"Unknown problem with ajax, while save Menu\"} });\n  }\n};\n\nexport const savePage = (page, callback) => async  dispatch => {\n\n  const token = localStorage.getItem('token');\n\n  try {\n    let response = null;\n    if( page.id ){\n      response = await axios.put(\n        prefixUrl+'/pages/'+page.id+'?token='+token,\n        page\n      );\n    }else{\n      response = await axios.post(\n        prefixUrl+'/pages?token='+token,\n        page\n      );\n    }\n\n    if(!response.data.success){\n      //const strErr = JSON.stringify(response.data.error, null, 2);\n      dispatch({ type: PAGES_RES, payload: {success: false, message: response.data.error} });\n    }else{\n      const pageId = page.id ? page.id : response.data.data.pageId; //update\n      //console.log('___ok___pageid='+pageId);\n      dispatch({ type: PAGES_RES, payload: {success: true, message: \"Data was saved\"} });\n      dispatch({ type: PAGES_SAVE_PAGE, payload: page });\n      callback(pageId);\n    }\n\n  } catch (e) {\n     console.log('___probem with ajax______', e);\n     dispatch({ type: PAGES_RES, payload: {success: false, message: \"Unknown problem with ajax, while save page\"} });\n  }\n}\n\n// export const getImagesByPage = ( pageId ) =>  async  dispatch => {\n//\n//   //console.log(pageId);\n//   const token = localStorage.getItem('token');\n//\n//   try {\n//     const response = await axios.get(\n//       SERVER_URL+'/api/images/'+pageId+'?token='+token\n//     );\n//\n//     //console.log(\"response_img\",response.data.data);\n//\n//     //dispatch({ type: PAGES_GET_MENU, payload: response.data.data });\n//     //callback();\n//\n//     //let imagesByPage = [];\n//     dispatch({ type: PAGES_GET_IMAGES_BY_PAGE, payload: response.data.data });\n//\n//   } catch(e){\n//      dispatch({ type: PAGES_RES, payload: {success: false, message: \"Unknown problem with ajax, while get image by page\"} });\n//   }\n// }\n\n\n\n\nexport const changeMenu = (menu) => dispatch => {\n  dispatch({ type: PAGES_CHANGE_MENU, payload: menu });\n};\n\n\n//export const setPage = (product) => dispatch => {\n//  dispatch({ type: PAGES_SET_PAGE, payload: product });\n//};\n\n\n\nexport const changePage = (page) => dispatch => {\n  dispatch({ type: PAGES_CHANGE_PAGE, payload: page });\n};\n","import React, { Component } from 'react';\n//import requireAuth from '../requireAuth';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/pages';\nimport { getDefaultLang } from '../../helpers/pages';\n\nclass PageTitle extends Component {\n\n  constructor(props) {\n    super(props);\n    this.data =  this.props.data;   //getMenuDataById(this.props.menus, this.props.data.id)\n    //console.log('data');\n    //console.log(this.data);\n    //const childrenPages = this.props.childrenPages;\n\n    //this.isChild = this.inArray(this.data.id, childrenPages);\n  }\n\n\n  // inArray = (needle, haystack) => {\n  //   if(!haystack){\n  //     return false;\n  //   }\n  //   let ret = false;\n  //   for(let item of haystack){\n  //     if(item.id === needle){\n  //       ret = true;\n  //       break;\n  //     }\n  //   }\n  //   return ret;\n  // }\n\n  delPage = () => {\n    if (window.confirm('Are you sure you wish to delete this item?')){\n      this.props.delPage(this.data.id, () => {\n        this.props.getPages( (pages) => {});\n      });\n    }  \n  }\n\n  getDataFromProps = () => {\n    const  data = this.props.pages.filter( page => {\n      return page.id === this.data.id\n    });\n\n    if(!data.length){\n      return {};\n    }\n    return data[0];\n  }\n\n  downPage = () => {\n    this.props.changePosition('down', this.data.id, 'pages', () => {\n      this.props.getPages( (pages) => {});\n    });\n  }\n\n  upPage = () => {\n    this.props.changePosition('up', this.data.id, 'pages', () => {\n      this.props.getPages( (pages) => {} );\n    });\n  }\n\n\n  editPage = () => {\n    const data = this.getDataFromProps();\n    this.props.changePage(data);\n  }\n\n  getPagesByMenuIdAndPageId = ( allPages, menuId, pageId ) => {\n    let pages = [];\n\n    for(let page of allPages){\n      if( pageId &&  (parseInt(page.menu_id) === menuId) && ( parseInt(page.page_id) === pageId ) ){\n        pages.push(page);\n      }\n      if( !pageId && (parseInt(page.menu_id) === menuId) && ( !page.page_id ) ){\n        pages.push(page);\n      }\n    }\n\n    return pages;\n  }\n\n  render() {\n    const defaultLang = getDefaultLang(this.props.config.langs);\n\n    const data = this.getDataFromProps();\n\n    const pages = this.getPagesByMenuIdAndPageId(this.props.pages, data.menu_id, data.page_id);\n\n    return (\n      <div className={ this.props.child ?  'mb-2 row ml-3' : 'mb-2 row' }>\n        <div className={ (data.published === 0) ?  'text-secondary' : '' }>{data.short_title[defaultLang] || '' }</div>\n        <div className=\"ml-2 mr-2\"  onClick={this.editPage}><i className=\"far fa-edit cursor-pointer\"/></div>\n        <div className=\"trash\"  onClick={this.delPage}><i className=\"fas fa-trash cursor-pointer\"  aria-hidden=\"true\"/></div>\n\n        {(pages.length > 1) &&\n        <React.Fragment>\n          <div className=\"ml-2\"  onClick={this.downPage}><i className=\"fas fa-arrow-down cursor-pointer\"></i></div>\n          <div className=\"ml-2\"  onClick={this.upPage}><i className=\"fas fa-arrow-up cursor-pointer\"></i></div>\n        </React.Fragment>\n        }\n\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    //menus: state.pages.menus,\n    page: state.pages.page,\n    pages: state.pages.pages,\n    config: state.pages.config\n  };\n}\n\n//export default connect(mapStateToProps, actions)(requireAuth(PageTitle));\nexport default connect(mapStateToProps, actions)(PageTitle);\n","import React, { Component } from 'react';\n//import requireAuth from '../requireAuth';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/pages';\nimport { getMenuDataById, isNewRecord, createTreePagesByMenuId, getDefaultLang, getNewTranslateLangsObj } from '../../helpers/pages';\n//import {  } from '../../helpers/pages';\nimport PageTitle from './PageTitle';\nimport '../main.css';\n\nclass Menu extends Component {\n\n  constructor(props) {\n    super(props);\n    this.data =  this.props.data;   //getMenuDataById(this.props.menus, this.props.data.id)\n    this.state = { defaultLang : getDefaultLang(this.props.config.langs) };\n  }\n\n  getPageTreeChildren = (pagesTree) => {\n      if(!pagesTree){\n          return false;\n      }\n      let childeren = [];\n      for(let page of  pagesTree){\n        if(page['children']){\n          for(let p of page['children']){\n            childeren.push(p);\n          }\n        }\n      }\n      return childeren;\n  }\n\n  handleChangeName = (event) => {\n    const langs = this.props.config.langs;\n    const stateMenu = getMenuDataById(this.props.menus, this.data.id);\n\n\n    const lang = event.target.attributes.getNamedItem('data-lang').value;\n    const newTranslateValueData = getNewTranslateLangsObj(langs ,stateMenu.name, lang, event.target.value);\n\n    const newMenuData = { ...stateMenu, name: newTranslateValueData};\n    this.props.changeMenu(newMenuData);\n  }\n\n  getCountMenu = () => {\n    let menus = [];\n    for(let menu of this.props.menus){\n      if(!isNewRecord(menu.id)){\n        menus.push(menu);\n      }\n    }\n\n    return menus.length;\n  }\n\n  saveMenu = () => {\n    const stateMenu = getMenuDataById(this.props.menus, this.data.id);\n    if(!stateMenu.position){\n      stateMenu.position = this.getCountMenu() + 1;\n    }\n\n    this.props.saveMenu(stateMenu, () => {\n      this.props.getMenus();\n    });\n  }\n\n  delMenu = () => {\n    if (window.confirm('Are you sure you wish to delete this item?')){\n      this.props.delMenu(this.data.id);\n    }\n  }\n\n  showPageTitle = (pagesTree) => {\n      let ret = [];\n      for(let index of Object.keys(pagesTree) ){\n        let page = pagesTree[index];\n        ret.push(<PageTitle key={page.id} data={page} child={false}/>);\n        if(page.children){\n          for(let ii of Object.keys(page.children)){\n            let p = page.children[ii];\n            ret.push(<PageTitle key={p.id} data={p} child={true}/>);\n          }\n        }\n      }\n      return ret;\n  }\n\n  downMenu = () => {\n    this.props.changePosition('down', this.data.id, 'menus', () => {\n      this.props.getMenus();\n    });\n  }\n\n  upMenu = () => {\n    this.props.changePosition('up', this.data.id, 'menus', () => {\n      this.props.getMenus();\n    });\n  }\n\n  changeLang = (event) => {\n    const lang = event.target.attributes.getNamedItem('data-lang').value;\n    this.setState({defaultLang: lang});\n  }\n\n  render() {\n\n    let stateMenu = {};\n    let isNew = false;\n    if( Array.isArray(this.props.menus) ){\n      stateMenu =  getMenuDataById(this.props.menus, this.data.id);\n      isNew =  isNewRecord(stateMenu.id);\n    }\n\n    const pagesTree = createTreePagesByMenuId(this.props.pages, this.data.id);\n    const langs = this.props.config.langs;\n\n    const choiceLang = [];\n    if( langs && langs.length > 1 ){\n      const classShow = \"mr-2 cursor-pointer text-primary\";\n      const classHide = \"mr-2 cursor-pointer text-secondary\";\n      let i = 0;\n      for(let lang of langs){\n        let hide = ((!this.state.defaultLang && !i ) || (this.state.defaultLang === lang)) ? classShow : classHide;\n        choiceLang.push(<span key={'choice_'+lang} data-lang={lang} className={hide}  onClick={this.changeLang}>{lang}</span>);\n        i++;\n      }\n    }\n\n    const names = [];\n    for(let lang of langs){\n      let hide = (this.state.defaultLang === lang) ? \"form-control col-5 mr-1\" : \"form-control col-5 mr-1 d-none\";\n      names.push(<input type=\"text\" placeholder=\"Menu name\" name=\"name\" key={lang} className={hide}\n            onChange={this.handleChangeName} data-lang={lang}  value={stateMenu.name[lang] || ''} />);\n    }\n\n    return (\n      <div>\n        <div className=\"form-group container mb-2 mt-3\">\n          <div className=\"row\">\n            {choiceLang}\n          </div>\n          <div className=\"row\">\n            {names}\n            <div className=\"ml-2\"  onClick={this.saveMenu}><i className=\"far fa-save cursor-pointer\"></i></div>\n            <div className=\"ml-2 trash\"  onClick={this.delMenu}><i className=\"fas fa-trash cursor-pointer\"  aria-hidden=\"true\"/></div>\n            {!isNew &&  (this.getCountMenu() > 1) &&\n            <React.Fragment>\n              <div className=\"ml-2\"  onClick={this.downMenu}><i className=\"fas fa-arrow-down cursor-pointer\"></i></div>\n              <div className=\"ml-2\"  onClick={this.upMenu}><i className=\"fas fa-arrow-up cursor-pointer\"></i></div>\n            </React.Fragment>\n            }\n          </div>\n        </div>\n        <div className=\"ml-3\" >\n          {this.showPageTitle(pagesTree)}\n        </div>\n      </div>\n    )\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    menus: state.pages.menus,\n    pages: state.pages.pages,\n    config: state.pages.config\n  };\n}\n\n//export default connect(mapStateToProps, actions)(requireAuth(Menu));\nexport default connect(mapStateToProps, actions)(Menu);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/pages';\nimport {SERVER_URL} from '../../config';\nimport { getImageById, changeItemInArr, getDataFromItems, getDefaultLang, getNewTranslateLangsObj } from '../../helpers/pages';\nimport '../main.css';\n\nclass Image extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { defaultLang : getDefaultLang(this.props.config.langs) };\n  }\n\n  delImage = () => {\n    if (window.confirm('Are you sure you wish to delete this item?')){\n      this.props.delImage(this.props.imageId, () => {\n        this.props.getPages((pages) => {\n          const page = getDataFromItems(pages, this.props.imageId);\n          this.props.changePage(page);\n        });\n      });\n    }\n  }\n\n  downImage = () => {\n    this.props.changePosition('down', this.props.imageId, 'images', () => {\n      this.props.getPages((pages) => {\n        const page = getDataFromItems(pages, this.props.imageId);\n        this.props.changePage(page);\n      });\n    });\n  }\n\n  upImage = () => {\n    this.props.changePosition('up', this.props.imageId, 'images', () => {\n      this.props.getPages((pages) => {\n        const page = getDataFromItems(pages, this.props.imageId);\n        this.props.changePage(page);\n      });\n    });\n  }\n\n/*\n  handleChange = (event) => {\n    let image = getImageById(this.props.page.images, this.props.imageId);\n    image.alt = event.target.value;\n\n    let images = changeItemInArr(this.props.page.images, image);\n    let newPageData = { ...this.props.page, 'images': images};\n\n    this.props.changePage(newPageData);\n  }\n*/\n\n  handleChangeAlt = (event) => {\n    const langs = this.props.config.langs;\n    //const stateMenu = getMenuDataById(this.props.menus, this.data.id);\n\n    let image = getImageById(this.props.page.images, this.props.imageId);\n    //let images = changeItemInArr(this.props.page.images, image);\n\n\n    const lang = event.target.attributes.getNamedItem('data-lang').value;\n    const newTranslateValueData = getNewTranslateLangsObj(langs, image.alt, lang, event.target.value);\n    image.alt = newTranslateValueData;\n\n    let images = changeItemInArr(this.props.page.images, image);\n\n    let newPageData = { ...this.props.page, 'images': images};\n    this.props.changePage(newPageData);\n  }\n\n  changeLang = (event) => {\n    const lang = event.target.attributes.getNamedItem('data-lang').value;\n    this.setState({defaultLang: lang});\n  }\n\n  render() {\n    let image = getImageById(this.props.page.images, this.props.imageId);\n\n\n    const langs = this.props.config.langs;\n    const choiceLang = [];\n    if( langs && langs.length > 1 ){\n      const classShow = \"mr-2 cursor-pointer text-primary\";\n      const classHide = \"mr-2 cursor-pointer text-secondary\";\n      let i = 0;\n      for(let lang of langs){\n        let hide = ((!this.state.defaultLang && !i ) || (this.state.defaultLang === lang)) ? classShow : classHide;\n        choiceLang.push(<span key={'choice_'+lang} data-lang={lang} className={hide}  onClick={this.changeLang}>{lang}</span>);\n        i++;\n      }\n    }\n\n    const alts = [];\n    for(let lang of langs){\n      let hide = (this.state.defaultLang === lang) ? \"form-control col-10 mr-1\" : \"form-control col-10 mr-1 d-none\";\n      alts.push(<input type=\"text\" placeholder=\"Image alt\" name=\"alt\" key={lang} className={hide}\n            onChange={this.handleChangeAlt} data-lang={lang}  value={image.alt ? ( image.alt[lang] ? image.alt[lang] : '' ) : ''} />);\n    }\n\n\n    return (\n      <div className=\"ml-1  mt-3 row\">\n        <img  src={SERVER_URL + image.fs.small} alt={image.alt} />\n\n        <div className=\"ml-1 row\">\n          {choiceLang}\n\n          {(this.props.page.images.length > 1) &&\n          <React.Fragment>\n            <div className=\"ml-2\"  onClick={this.downImage}><i className=\"fas fa-arrow-down cursor-pointer\"></i></div>\n            <div className=\"ml-2\"  onClick={this.upImage}><i className=\"fas fa-arrow-up cursor-pointer\"></i></div>\n          </React.Fragment>\n          }\n          <div className=\"trash ml-2\"  onClick={this.delImage}><i className=\"fas fa-trash cursor-pointer\"  aria-hidden=\"true\"/></div>\n\n          {alts}\n       </div>\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    page: state.pages.page,\n    config: state.pages.config\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Image);\n","import React, { Component } from 'react';\n//import requireAuth from '../requireAuth';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/pages';\nimport Image from './Image';\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n//import '../main.css';\n\n// TODO problem with edit source code with CKEditor\n//import CKEditor from 'ckeditor4-react';\n//import CKEditor from '@ckeditor/ckeditor5-react';\n//import ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n\nimport { isNewRecord, getPagesByMenuId, getImages, inArray, getDefaultLang, getNewTranslateLangsObj } from '../../helpers/pages';\n\n\nclass Page extends Component {\n\n  constructor(props) {\n    super(props);\n    this.defaultLang = getDefaultLang(this.props.config.langs);\n\n    this.state = {\n      defaultLangTitle : this.defaultLang,\n      defaultLangShortTitle : this.defaultLang,\n      defaultLangDescription : this.defaultLang,\n      defaultLangContent : this.defaultLang\n    };\n  }\n\n  getRootPages = () => {\n    const menuId = parseInt(this.props.page.menu_id);\n    const pageId = this.props.page.id ? parseInt(this.props.page.id) : false;\n\n    let parentIds = []\n    for(let p of this.props.pages){\n      if( (p.menu_id === menuId) &&  p.page_id ){\n        parentIds.push(p.page_id);\n      }\n    }\n\n    let pages = [];\n    pages.push([]);\n\n    //only one level of depth\n    if(inArray(pageId, parentIds)){\n      return pages;\n    }\n\n    for(let p of this.props.pages){\n      //edit\n      if( (p.menu_id === menuId) && !p.page_id && pageId && (p.id !== pageId ) ){\n        pages.push(p);\n      }\n      //new\n      if( (p.menu_id === menuId) && !p.page_id && !pageId ){\n        pages.push(p);\n      }\n\n    }\n\n    return pages;\n  }\n\n  getMenuValues(){\n    let menuVal = [];\n    //console.log(this.props.menus);\n    menuVal.push({id: null, name: ''});\n    for(var menu of  this.props.menus){\n      if( !isNewRecord(menu.id) ){\n        menuVal.push(menu);\n      }\n    }\n    return menuVal;\n  }\n\n  getPagePositionByMenuId = (menuId) => {\n    if(!menuId){\n      menuId = null;\n    }else{\n      menuId = parseInt(menuId);\n    }\n    const pagesByMenuId = getPagesByMenuId( this.props.pages, menuId );\n    return  pagesByMenuId.length + 1;\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    //createTreePages(this.props.pages); //??\n\n    const page = { ...this.props.page};\n    page.position = this.getPagePositionByMenuId(page.menu_id);\n\n    if(this.images && page.images){\n      page.images = page.images.concat(this.images);\n    }\n\n    this.props.savePage(page, ( pageId ) => {\n      document.getElementsByName('images')[0].value = null;\n      this.images = [];\n      this.props.getPages( (p) => {} );\n    });\n  }\n\n  onEditorChange = ( data, lang ) => {\n      const langs = this.props.config.langs;\n      //console.log(this.props.page.content);\n      const newTranslateValueData = getNewTranslateLangsObj(langs, this.props.page.content, lang, data);\n      const newPageData = { ...this.props.page, content: newTranslateValueData};\n      //console.log(newPageData);\n      this.props.changePage(newPageData);\n\n  }\n\n  handleChangePage = (event) => {\n    let newPageData;\n    if( event.target.name === \"published\" || event.target.name === \"commented\" || event.target.name === \"after_login\" ){\n      //console.log('test');\n      newPageData = { ...this.props.page, [event.target.name]: event.target.checked};\n    }else{\n      newPageData = { ...this.props.page, [event.target.name]: event.target.value};\n    }\n\n    this.props.changePage(newPageData);\n  }\n\n  handleChangePageTitle = (event) => {\n    const langs = this.props.config.langs;\n    const lang = event.target.attributes.getNamedItem('data-lang').value;\n    const newTranslateValueData = getNewTranslateLangsObj(langs, this.props.page.title, lang, event.target.value);\n    const newPageData = { ...this.props.page, title: newTranslateValueData};\n    this.props.changePage(newPageData);\n  }\n\n  handleChangePageShortTitle = (event) => {\n    const langs = this.props.config.langs;\n    const lang = event.target.attributes.getNamedItem('data-lang').value;\n    const newTranslateValueData = getNewTranslateLangsObj(langs, this.props.page.short_title, lang, event.target.value);\n    const newPageData = { ...this.props.page, short_title: newTranslateValueData};\n    this.props.changePage(newPageData);\n  }\n\n  handleChangePageDescription = (event) => {\n    const langs = this.props.config.langs;\n    const lang = event.target.attributes.getNamedItem('data-lang').value;\n    const newTranslateValueData = getNewTranslateLangsObj(langs, this.props.page.description, lang, event.target.value);\n    const newPageData = { ...this.props.page, description: newTranslateValueData};\n    this.props.changePage(newPageData);\n  }\n\n  handleChangePageContent = (event) => {\n    const langs = this.props.config.langs;\n    const lang = event.target.attributes.getNamedItem('data-lang').value;\n    const newTranslateValueData = getNewTranslateLangsObj(langs, this.props.page.content, lang, event.target.value);\n    const newPageData = { ...this.props.page, content: newTranslateValueData};\n    this.props.changePage(newPageData);\n  }\n\n\n\n  createImage = (files) => {\n\n    this.images = [];\n    for (let i = 0; i < files.length; i++)  //for multiple files\n    {\n        let f = files[i];\n        let name = files[i].name;\n        let reader = new FileReader();\n\n        reader.onload = (e) => {\n            this.images.push({ data: e.target.result, name: name});\n        }\n        reader.readAsDataURL(f);\n        //reader.readAsText(f,\"UTF-8\");\n    }\n  }\n\n  handleUploadFile = (event) => {\n\n    const files = event.target.files;\n    if (files.length){\n      this.createImage(files);\n    }\n  }\n\n  showImages = (images) => {\n\n      let ret = '';\n      if(Array.isArray(images)){\n\n        ret = images.map(function(item, index){\n          return  <Image key={item.id} imageId={item.id} />\n        });\n      }\n\n      return ret;\n  }\n\n  getPageTypes = () => {\n    return  this.props.config ? (this.props.config.page_types || []) : [];\n  }\n\n  changeLang = (event) => {\n    const lang = event.target.attributes.getNamedItem('data-lang').value;\n    const column = event.target.attributes.getNamedItem('data-column').value;\n\n    if( \"title\" === column ){\n      this.setState({defaultLangTitle: lang});\n    }else if(  \"short_title\" === column  ){\n      this.setState({defaultLangShortTitle: lang});\n    }else if(  \"description\" === column  ){\n      this.setState({defaultLangDescription: lang});\n    }else if(  \"content\" === column  ){\n      this.setState({defaultLangContent: lang});\n    }\n    //this.setState({defaultLang: lang});\n  }\n\n  // let hideTitle =  classShow; //(this.state.defaultLangTitle === lang) ? classShow : classHide;\n  // let hideShortTitle = classShow;//(this.state.defaultLangShortTitle === lang) ? classShow : classHide;\n  // let hideDescription = classShow;//(this.state.defaultLangDescription === lang) ? \"form-control\" : \"form-control d-none\";\n  // let hideContent = classShow;//(this.state.defaultLangContent === lang) ? \"form-control\" : \"form-control d-none\";\n\n\n  // showCkeditor = () => {\n  //   const langs = this.props.config.langs;\n  //   const Ccontent = [];\n  //   for(let lang of langs){\n  //     let contentCKE = this.props.page.content ? (this.props.page.content[lang] ? this.props.page.content[lang] : '') : '';\n  //     Ccontent.push(<CKEditor\n  //         editor={ ClassicEditor }\n  //         data={contentCKE}\n  //         onChange={ ( event, editor ) => {\n  //             const data = editor.getData();\n  //             this.onEditorChange( data, contentLang );\n  //             //console.log( { event, editor, data } );\n  //         } }\n  //     />);\n  //   }\n  //   return Ccontent;\n  // }\n\n\n  render() {\n    const langs = this.props.config.langs;\n    const defaultLang = getDefaultLang(this.props.config.langs);\n\n\n    const menuValues = this.getMenuValues();\n    const rootPages = this.getRootPages();\n    const pageTypes = this.getPageTypes();\n\n    let images = [];\n    if(this.props.page.id){\n      images = getImages( this.props.pages, this.props.page.id );\n    }\n    const label =  this.props.page.id ? 'Edit page' : 'Add page';\n\n    //const contentLang = this.state.defaultLangContent ? this.state.defaultLangContent : defaultLang;\n    //console.log(this.props.page.content);\n    //let contentCKE = this.props.page.content ? (this.props.page.content[contentLang] ? this.props.page.content[contentLang] : '') : ''\n    //console.log(contentLang);\n    //console.log(ccc);\n    //console.log(this.props.page.content);\n    //let content0 = this.props.page.content ? (this.props.page.content[this.state.defaultLangContent] ? this.props.page.content[this.state.defaultLangContent] : '') : '';\n    //console.log(content0);\n\n    const Ccontent = [];\n    if(this.props.page.type === \"cms\"){\n      for(let lang of langs){\n        let contentCKE = this.props.page.content ? (this.props.page.content[lang] ? this.props.page.content[lang] : '') : '';\n        Ccontent.push(<CKEditor\n            key={'cke_'+lang}\n            editor={ ClassicEditor }\n            data={contentCKE}\n            onChange={ ( event, editor ) => {\n                const data = editor.getData();\n                this.onEditorChange( data, lang );\n            } }\n        />);\n      }\n    }\n\n\n    const choiceLangTitle = [];\n    const choiceLangShortTitle = [];\n    const choiceLangDescription = [];\n    const choiceLangContent = [];\n    if( langs && langs.length > 1 ){\n      const classShow = \"mr-2 mt-3 cursor-pointer text-primary\";\n      const classHide = \"mr-2 mt-3  cursor-pointer text-secondary\";\n      let i = 0;\n      for(let lang of langs){\n        let hideTitle = ((!this.state.defaultLangTitle && !i ) || (this.state.defaultLangTitle === lang)) ? classShow : classHide;\n        let hideShortTitle = ((!this.state.defaultLangShortTitle && !i ) || (this.state.defaultLangShortTitle === lang)) ? classShow : classHide;\n        let hideDescription =((!this.state.defaultLangDescription && !i ) || (this.state.defaultLangDescription === lang)) ? classShow : classHide;\n        let hideContent =((!this.state.defaultLangContent && !i ) || (this.state.defaultLangContent === lang)) ? classShow : classHide;\n\n        choiceLangTitle.push(<span key={'title_'+lang} data-lang={lang} data-column=\"title\" className={hideTitle}  onClick={this.changeLang}>{lang}</span>);\n        choiceLangShortTitle.push(<span key={'short_title_'+lang} data-lang={lang} data-column=\"short_title\" className={hideShortTitle}  onClick={this.changeLang}>{lang}</span>);\n        choiceLangDescription.push(<span key={'description_'+lang} data-lang={lang} data-column=\"description\" className={hideDescription}  onClick={this.changeLang}>{lang}</span>);\n\n        if( 'projects' !== this.props.page.type ){\n          choiceLangContent.push(<span key={'content_'+lang} data-lang={lang} data-column=\"content\" className={hideContent}  onClick={this.changeLang}>{lang}</span>);\n        }\n        i++;\n      }\n    }\n\n    const title = [];\n    const shortTitle = [];\n    const description = [];\n    const content = [];\n    if( langs ){\n\n      const classShow = \"form-control col-5 mr-1\";\n      const classHide = \"form-control col-5 mr-1 d-none\";\n      let i = 0;\n      for(let lang of langs){\n        let hideTitle = ((!this.state.defaultLangTitle && !i ) || (this.state.defaultLangTitle === lang)) ? classShow : classHide;\n        let hideShortTitle = ((!this.state.defaultLangShortTitle && !i ) || (this.state.defaultLangShortTitle === lang)) ? classShow : classHide;\n        let hideDescription =((!this.state.defaultLangDescription && !i ) || (this.state.defaultLangDescription === lang)) ? \"form-control\" : \"form-control d-none\";\n        let hideContent =((!this.state.defaultLangContent && !i ) || (this.state.defaultLangContent === lang)) ? \"form-control content-text\" : \"form-control content-text d-none\";\n\n        title.push(<input type=\"text\" placeholder=\"Title\" name=\"title\" key={'t_'+lang} className={hideTitle}\n              onChange={this.handleChangePageTitle} data-lang={lang}  value={this.props.page.title ? (this.props.page.title[lang] ? this.props.page.title[lang] : ''): ''} />);\n        shortTitle.push(<input type=\"text\" placeholder=\"Short title\" name=\"short_title\" key={'st_'+lang} className={hideShortTitle}\n              onChange={this.handleChangePageShortTitle} data-lang={lang}  value={this.props.page.short_title ? (this.props.page.short_title[lang] ? this.props.page.short_title[lang] : '' ): ''} />);\n        description.push(<textarea type=\"text\" placeholder=\"Description\" name=\"description\"  rows=\"4\" cols=\"50\" key={'desc_'+lang} className={hideDescription}\n              onChange={this.handleChangePageDescription} data-lang={lang} value={this.props.page.description ? (this.props.page.description[lang] ? this.props.page.description[lang] : ''): ''} ></textarea>);\n        content.push(<textarea type=\"text\" placeholder=\"Content\" name=\"content\"  rows=\"20\" cols=\"80\" key={'content_'+lang} style={{fontSize:\"10pt\"}}  className={hideContent}\n              onChange={this.handleChangePageContent} data-lang={lang} value={this.props.page.content ? (this.props.page.content[lang] ? this.props.page.content[lang] : '') : ''} ></textarea>);\n        i++;\n      }\n    }\n\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"add-page-btn  btn btn-primary mt-2 mb-2\"><i className=\"fas fa-plus\"></i> {label}</button>\n\n          <div className=\"row mt-1\">\n            {choiceLangTitle}\n          </div>\n          {title}\n\n          <div className=\"row\">\n            {choiceLangShortTitle}\n          </div>\n          {shortTitle}\n\n          <div className=\"row\">\n            {choiceLangDescription}\n          </div>\n          {description}\n\n          <div className=\"form-check row mt-2\">\n              <input\n                  className=\"col-1\"\n                  name=\"published\"\n                  type=\"checkbox\"\n                  checked={this.props.page.published || 0}\n                  onChange={this.handleChangePage} />\n              <label>Published</label>\n          </div>\n\n          <div className=\"form-check row\">\n              <input\n                  className=\"col-1\"\n                  name=\"commented\"\n                  type=\"checkbox\"\n                  checked={this.props.page.commented || 0}\n                  onChange={this.handleChangePage} />\n              <label>Commented</label>\n          </div>\n\n          <div className=\"form-check row\">\n              <input\n                  className=\"col-1\"\n                  name=\"after_login\"\n                  type=\"checkbox\"\n                  checked={this.props.page.after_login || 0}\n                  onChange={this.handleChangePage} />\n              <label>Available after log in</label>\n          </div>\n\n          <div className=\"form-group\">\n              <select name=\"type\" onChange={this.handleChangePage}  value={this.props.page.type}>\n                {pageTypes.map(page_type =>\n                  <option key={page_type} value={page_type || ''}>{page_type || '' }</option>\n                )}\n              </select>\n              <label className=\"ml-1\">Type</label>\n          </div>\n\n\n          { (this.props.page.type !== \"main_page\") &&\n          <React.Fragment>\n            <div className=\"form-group\">\n              <select name=\"menu_id\" onChange={this.handleChangePage}  value={this.props.page.menu_id || ''} >\n                {menuValues.map(menu =>\n                  <option key={menu.id} value={menu.id || ''}>{menu.name[defaultLang] || ''}</option>\n                )}\n              </select>\n              <label className=\"ml-1\">Menu</label>\n            </div>\n\n            <div className=\"form-group\">\n              <select name=\"page_id\" onChange={this.handleChangePage}  value={this.props.page.page_id || ''} >\n                {rootPages.map(page =>\n                  <option key={page.id || ''} value={page.id || ''}>{page.title ? (page.title[defaultLang] ? page.title[defaultLang]: ''): ''}</option>\n                )}\n              </select>\n              <label className=\"ml-1\">Parent page</label>\n            </div>\n          </React.Fragment>\n          }\n\n          { (this.props.page.type === \"cms\") &&\n          <React.Fragment>\n            {Ccontent}\n          </React.Fragment>\n          }\n\n          { (this.props.page.type !== \"cms\") &&\n          <React.Fragment>\n            <div className=\"row\">\n              {choiceLangContent}\n            </div>\n            {content}\n          </React.Fragment>\n          }\n\n         <div className=\"form-group\">\n          <input type=\"file\" name=\"images\"  onChange={this.handleUploadFile} multiple/>\n         </div>\n\n         {this.showImages(images)}\n\n        </form>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    menus: state.pages.menus,\n    pages: state.pages.pages,\n    page: state.pages.page,\n    config: state.pages.config\n  };\n}\n\n//export default connect(mapStateToProps, actions)(requireAuth(Page));\nexport default connect(mapStateToProps, actions)(Page);\n","import React from 'react';\n\nclass Expire extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {visible:true}\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // reset the timer if children are changed\n    if (nextProps.children !== this.props.children) {\n      this.setTimer();\n      this.setState({visible: true});\n    }\n  }\n\n  componentDidMount() {\n    this.setTimer();\n  }\n\n  setTimer() {\n    // clear any existing timer\n    if (this._timer != null) {\n      clearTimeout(this._timer)\n    }\n\n    // hide after `delay` milliseconds\n    this._timer = setTimeout(function(){\n      this.setState({visible: false});\n      this._timer = null;\n    }.bind(this), this.props.delay);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this._timer);\n  }\n\n  render() {\n    return this.state.visible\n      ? <div>{this.props.children}</div>\n      : <span />;\n  }\n}\n\nexport default Expire;\n","import React, { Component } from 'react';\n//import requireAuth from '../requireAuth';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/pages';\nimport Menu from './Menu';\nimport Page from './Page';\nimport PageTitle from './PageTitle';\nimport shortid from 'shortid';\nimport Expire from '../../helpers/Expire';\nimport '../main.css';\n//import { createTreePages } from '../../helpers/pages';\n\nclass MenuPages extends Component {\n\n  componentDidMount() {\n    this.props.getConfig((config) => {\n      if(config){\n        this.props.getMenus();\n        this.props.getPages((pages) => {});\n      }else{\n        alert('You must set at least one language in the .env file');\n      }\n    });\n    //console.log('___MenuPages___pobieram_z_serwera______');\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n  }\n\n  getNotRelatedPages = () => {\n    let pages = [];\n    for(let page of this.props.pages){\n      if( !page.menu_id ){\n        pages.push(page);\n      }\n    }\n    return pages;\n  }\n\n  showMenuPages = (menus) => {\n\n      let ret = '';\n      if(Array.isArray(menus)){\n\n        ret = menus.map(function(item, index){\n           // createTreePages(this.props.pages, item.id );\n          return  <Menu key={item.id} data={item}/>\n        });\n      }\n\n\n      return ret;\n  }\n\n  showPageTitle = (pages) => {\n      let ret = '';\n      if(Array.isArray(pages)){\n        //console.log(pages);\n        ret = pages.map(function(item, index){\n          return  <PageTitle key={item.id} data={item}/>\n        });\n      }\n      return ret;\n  }\n\n  handleAddMenu = () => {\n    const menu = {id:  'rs_'+shortid.generate(), name: '', position: '' };\n    this.props.addMenu(menu);\n  }\n\n  renderMsg = (message) => {\n    //console.log('msg_err',this.props.pagesRes.message);\n    console.log('msg_err',message);\n    return JSON.stringify(message, null, 2);\n  }\n\n\n  render() {\n\n    let cache_enable = false;\n    if(this.props.config && (this.props.config.cache_enable === true) ){\n      cache_enable = true;\n    }\n\n    const notRelatedPages = this.getNotRelatedPages();\n\n    let msg = '';\n    if(this.props.pagesRes && (this.props.pagesRes.success  === false)  ){\n\n      //console.log(this.props.pagesRes.message);\n      let msgHtml = ''\n\n      if( (typeof this.props.pagesRes.message === \"object\" || typeof this.props.pagesRes.message === 'function') && (this.props.pagesRes.message !== null) ){\n          for(let index in this.props.pagesRes.message){\n              msgHtml += this.props.pagesRes.message[index][0]+ \" \";\n          }\n      }else if(Array.isArray(this.props.pagesRes.message)){\n        for(let index in this.props.pagesRes.message){\n            msgHtml += index + \": \" + this.props.pagesRes.message[index][0]+ \"  \";\n        }\n      }else{\n        msgHtml = this.props.pagesRes.message;\n      }\n\n      msg = <Expire  delay={9000}><div className=\"alert alert-danger mb-4\" role=\"alert\">{msgHtml}</div></Expire>;\n      //msg = <Expire  delay={5000}><div className=\"alert alert-danger\" role=\"alert\">{JSON.stringify(this.props.pagesRes.message, null, 2)}</div></Expire>;\n    }\n\n    if(this.props.pagesRes && (this.props.pagesRes.success === true) ){\n      msg = <Expire  delay={9000}><div className=\"alert alert-success  mb-4\" role=\"alert\">{this.props.pagesRes.message}</div></Expire>;\n    }\n\n    const { menus } = this.props;\n\n    return (\n      <div className=\"mt-3 mb-2\">\n        { (cache_enable === true) &&\n          <div className=\"alert alert-danger\" role=\"alert\">\n              cache_enable is true on the .env file on server (set this param on the false, if you want something change)\n          </div>\n        }\n        <div className=\"wrapMsg\">\n        {msg}\n        </div>\n        <div className=\"row\">\n          <div className=\"col-5\">\n            <button id=\"add_menu\" className=\"btn btn-primary mt-2 mb-2\"  onClick={this.handleAddMenu}><i className=\"fas fa-plus\"></i> Add menu</button>\n            <form onSubmit={this.handleSubmit}>\n              {this.showMenuPages(menus)}\n            </form>\n\n            { notRelatedPages.length > 0 &&\n              <React.Fragment>\n                <h5 className=\"mt-4\">Pages not related to menu</h5>\n                <div className=\"ml-3\">\n                  {this.showPageTitle(notRelatedPages)}\n                </div>\n              </React.Fragment>\n            }\n          </div>\n\n          <div className=\"col-7\">\n            <Page />\n          </div>\n\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    menus: state.pages.menus,\n    pages: state.pages.pages,\n    config: state.pages.config,\n    pagesRes: state.pages.pages_res\n  };\n}\n\n//export default connect(mapStateToProps, actions)(requireAuth(MenuPages));\nexport default connect(mapStateToProps, actions)(MenuPages);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { ADMIN_URL_SECRET } from '../config';\n\nclass Header extends Component {\n\n  renderLinks() {\n    const urlPages = \"/admin\"+ADMIN_URL_SECRET+\"/pages\";\n    const urlUsers = \"/admin\"+ADMIN_URL_SECRET+\"/users\";\n    const urlProducts = \"/admin\"+ADMIN_URL_SECRET+\"/products\";\n    const urlSignout = \"/admin\"+ADMIN_URL_SECRET+\"/signout\";\n    const urlContacts = \"/admin\"+ADMIN_URL_SECRET+\"/contacts\";\n\n    if (this.props.authenticated) {\n      return (\n        <div className=\"container-fluid\">\n          <div className=\"container\">\n            <Link   to={urlPages}>Pages</Link>\n            <Link  className=\"ml-4\"  to={urlUsers}>Users</Link>\n            <Link  className=\"ml-4\"  to={urlProducts}>Products</Link>\n            <Link  className=\"ml-4\"  to={urlContacts}>Contacts</Link>\n          </div>\n          <Link   to={urlSignout}>Sign Out</Link>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n        {this.renderLinks()}\n      </nav>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return { authenticated: state.auth.authenticated };\n}\n\nexport default connect(mapStateToProps)(Header);\n","import React, { Component } from 'react';\nimport requireAuth from './requireAuth';\nimport MenuPages from './pages/MenuPages';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions/pages';\nimport Header from './Header';\n\nclass Pages extends Component {\n\n\n  render() {\n    return (\n      <div>\n      <Header />\n        <div  className=\"mt-3  container\">\n          <h2 className=\"mb-3\">CMS - menus and pages</h2>\n          <MenuPages />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, actions)(requireAuth(Pages));\n","import axios from 'axios';\nimport { SERVER_URL, API_SECRET  } from '../config';\nimport { PRODUCTS_RES, PRODUCTS_GET_PRODUCTS, PRODUCTS_GET_PAGES, PRODUCTS_CHANGE_PRODUCT, PRODUCTS_SAVE_PRODUCT, PRODUCTS_SET_PRODUCT, PRODUCTS_DELETE_PRODUCT } from './types';\n\nimport { getPrefixUrl } from '../helpers/pages';\nconst prefixUrl = getPrefixUrl(SERVER_URL, API_SECRET);\n\n\nexport const changePosition = (direction, itemId, menusOrPagesOrImg, callback) => async dispatch => {\n  const token = localStorage.getItem('token');\n  try{\n    const response = await axios.get(\n      prefixUrl+'/'+menusOrPagesOrImg+'/position/'+direction+'/'+itemId+'?token='+token\n    );\n\n    if(!response.data.success){\n      dispatch({ type: PRODUCTS_RES, payload: {success: false, message: \"Problem with change position \"+menusOrPagesOrImg} });\n    }else{\n      dispatch({ type: PRODUCTS_RES, payload: {success: true, message: \"Data was saved\"} });\n    }\n\n    callback();\n  } catch(e){\n     dispatch({ type: PRODUCTS_RES, payload: {success: false, message: \"Unknown problem with ajax, while change \"+menusOrPagesOrImg+\" position\"} });\n  }\n}\n\nexport const delImage = (imageId, callback) => async dispatch => {\n  const token = localStorage.getItem('token');\n\n  try{\n    const response = await axios.delete(\n      prefixUrl+'/images/'+imageId+'?token='+token\n    );\n\n    if(!response.data.success){\n      //const strErr = JSON.stringify(response.data.error, null, 2);\n      dispatch({ type: PRODUCTS_RES, payload: {success: false, message: response.data.error} });\n    }else{\n      dispatch({ type: PRODUCTS_RES, payload: {success: true, message: \"Data was saved\"} });\n    }\n\n    callback();\n  } catch(e){\n     dispatch({ type: PRODUCTS_RES, payload: {success: false, message: \"Unknown problem with ajax, while deleteing image\"} });\n  }\n}\n\n\n\nexport const getShopPages = () => async dispatch => {\n  const token = localStorage.getItem('token');\n\n  try {\n    const response = await axios.get(\n      prefixUrl+'/pages/type/shop?token='+token\n    );\n    dispatch({ type: PRODUCTS_GET_PAGES, payload: response.data.data });\n    //callback();\n\n  } catch(e){\n     dispatch({ type: PRODUCTS_RES, payload: {success: false, message: \"Unknown problem with ajax, while get pages for products\"} });\n  }\n};\n\n\nexport const getProducts = (callback) => async dispatch => {\n  const token = localStorage.getItem('token');\n\n  try {\n    const response = await axios.get(\n      prefixUrl+'/products?token='+token\n    );\n    //console.log(\"response\",response.data.data);\n    dispatch({ type: PRODUCTS_GET_PRODUCTS, payload: response.data.data });\n    callback(response.data.data);\n\n  } catch(e){\n     dispatch({ type: PRODUCTS_RES, payload: {success: false, message: \"Unknown problem with ajax, while get products\"} });\n  }\n};\n\nexport const saveProduct = (product, callback) => async  dispatch => {\n\n  const token = localStorage.getItem('token');\n\n  try {\n    let response = null;\n    if( product.id ){\n      response = await axios.put(\n        prefixUrl+'/products/'+product.id+'?token='+token,\n        product\n      );\n    }else{\n      response = await axios.post(\n        prefixUrl+'/products?token='+token,\n        product\n      );\n    }\n\n    if(!response.data.success){\n      //const strErr = JSON.stringify(response.data.error, null, 2);\n      dispatch({ type: PRODUCTS_RES, payload: {success: false, message: response.data.error} });\n    }else{\n      const productId = product.id ? product.id : response.data.data.productId; //update\n      //console.log('___ok___pageid='+pageId);\n      dispatch({ type: PRODUCTS_RES, payload: {success: true, message: \"Data was saved\"} });\n      dispatch({ type: PRODUCTS_SAVE_PRODUCT, payload: product });\n      callback(productId);\n    }\n\n  } catch (e) {\n     console.log('___probem with ajax______', e);\n     dispatch({ type: PRODUCTS_RES, payload: {success: false, message: \"Unknown problem with ajax, while save page\"} });\n  }\n};\n\n\nexport const deleteProduct = (productId) =>  async dispatch => {\n\n  const token = localStorage.getItem('token');\n\n  //console.log(SERVER_URL);\n  try{\n    //console.log( 'del_menuId', menuId );\n    const response = await axios.delete(\n      prefixUrl+'/products/'+productId+'?token='+token\n    );\n\n    if(!response.data.success){\n      //const strErr = JSON.stringify(response.data.error, null, 2);\n      dispatch({ type: PRODUCTS_RES, payload: {success: false, message: response.data.error} });\n    }else{\n      dispatch({ type: PRODUCTS_RES, payload: {success: true, message: \"Data was saved\"} });\n    }\n\n    dispatch({ type: PRODUCTS_DELETE_PRODUCT, payload: productId });\n  } catch(e){\n     dispatch({ type: PRODUCTS_RES, payload: {success: false, message: \"Unknown problem with ajax, while deleteing product\"} });\n  }\n}\n\n\n// export const checkProducts = (id, isSelected) => dispatch => {\n//   dispatch({ type: PRODUCTS_CHECK_PRODUCT, payload: {'id': id, 'isSelected': isSelected } });\n// };\n\n\n//not used - to del - use only changeProduct\nexport const setProduct = (product) => dispatch => {\n  dispatch({ type: PRODUCTS_SET_PRODUCT, payload: product });\n};\n\n\nexport const changeProduct = (product) => dispatch => {\n  dispatch({ type: PRODUCTS_CHANGE_PRODUCT, payload: product });\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/products';\nimport {SERVER_URL} from '../../config';\nimport { getImageById, changeItemInArr, getDataFromItems, getNewTranslateLangsObj, getDefaultLang } from '../../helpers/pages';\n\nclass ImageProduct extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { defaultLang : getDefaultLang(this.props.config.langs) };\n  }\n\n  delImage = () => {\n    this.props.delImage(this.props.imageId, () => {\n      this.props.getProducts( (products) => {\n        const product = getDataFromItems(products, this.props.productId);\n        this.props.changeProduct(product);\n      });\n    });\n  }\n\n  downImage = () => {\n    this.props.changePosition('down', this.props.imageId, 'images', () => {\n      this.props.getProducts( (products) => {\n        let product = getDataFromItems(products, this.props.productId);\n        product = {...product};\n        this.props.changeProduct(product);\n      });\n    });\n  }\n\n  upImage = () => {\n    this.props.changePosition('up', this.props.imageId, 'images', () => {\n      this.props.getProducts( (products) => {\n        let product = getDataFromItems(products, this.props.productId);\n        product = {...product};\n        this.props.changeProduct(product);\n      });\n    });\n  }\n\n/*\n  handleChange = (event) => {\n    let image = getImageById(this.props.product.images, this.props.imageId);\n    image.alt = event.target.value;\n\n    let images = changeItemInArr(this.props.product.images, image);\n    let newProductData = { ...this.props.product, 'images': images};\n\n    this.props.changeProduct(newProductData);\n  }\n*/\n\n  handleChangeAlt= (event) => {\n    const langs = this.props.config.langs;\n    //const stateMenu = getMenuDataById(this.props.menus, this.data.id);\n\n    let image = getImageById(this.props.product.images, this.props.imageId);\n    //let images = changeItemInArr(this.props.page.images, image);\n\n\n    const lang = event.target.attributes.getNamedItem('data-lang').value;\n    const newTranslateValueData = getNewTranslateLangsObj(langs, image.alt, lang, event.target.value);\n    image.alt = newTranslateValueData;\n\n    let images = changeItemInArr(this.props.product.images, image);\n\n    let newProductData = { ...this.props.product, 'images': images};\n    this.props.changeProduct(newProductData);\n  }\n\n  changeLang = (event) => {\n    const lang = event.target.attributes.getNamedItem('data-lang').value;\n    this.setState({defaultLang: lang});\n  }\n\n  render() {\n\n    let image = getImageById(this.props.product.images, this.props.imageId);\n    const langs = this.props.config.langs;\n    \n    const choiceLang = [];\n    if( langs && langs.length > 1 ){\n      const classShow = \"mr-2 cursor-pointer text-primary\";\n      const classHide = \"mr-2 cursor-pointer text-secondary\";\n      let i = 0;\n      for(let lang of langs){\n        let hide = ((!this.state.defaultLang && !i ) || (this.state.defaultLang === lang)) ? classShow : classHide;\n        choiceLang.push(<span key={'choice_'+lang} data-lang={lang} className={hide}  onClick={this.changeLang}>{lang}</span>);\n        i++;\n      }\n    }\n\n    const alts = [];\n    if( langs ){\n      for(let lang of langs){\n        let hide = (this.state.defaultLang === lang) ? \"form-control col-10 mr-1\" : \"form-control col-10 mr-1 d-none\";\n        alts.push(<input type=\"text\" placeholder=\"Image alt\" name=\"alt\" key={lang} className={hide}\n              onChange={this.handleChangeAlt} data-lang={lang}  value={image.alt ? ( image.alt[lang] ? image.alt[lang] : '' ) : ''} />);\n      }\n    }\n\n    return (\n      <div className=\"ml-1  mt-3 row\">\n        <img  src={SERVER_URL + image.fs.small} alt={image.alt} />\n\n        <div className=\"ml-1 row\">\n          {choiceLang}\n\n          {(this.props.product.images.length > 1) &&\n          <React.Fragment>\n            <div className=\"ml-2\"  onClick={this.downImage}><i className=\"fas fa-arrow-down cursor-pointer\"></i></div>\n            <div className=\"ml-2\"  onClick={this.upImage}><i className=\"fas fa-arrow-up cursor-pointer\"></i></div>\n          </React.Fragment>\n          }\n          <div className=\"trash ml-2\"  onClick={this.delImage}><i className=\"fas fa-trash cursor-pointer\"  aria-hidden=\"true\"/></div>\n          {alts}\n\n        </div>\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    product: state.products.product,\n    config: state.pages.config\n  };\n}\n\n//export default connect(null, actions)(requireAuth(Image));\nexport default connect(mapStateToProps, actions)(ImageProduct);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/products';\nimport ImageProduct from './ImageProduct';\nimport { getImages } from '../../helpers/pages';\nimport { getDefaultLang } from '../../helpers/pages';\n\n\nclass AddProduct extends Component {\n\n  componentDidMount() {\n    this.props.getShopPages();\n    this.props.getProducts( (d) => {\n    });\n  }\n\n  getShopPages = () => {\n    let shopPages = [];\n\n    shopPages.push('');\n    if(this.props.shop_pages){\n      for(var shopPage of  this.props.shop_pages){\n          shopPages.push(shopPage);\n      }\n    }\n    return shopPages;\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const product = { ...this.props.product};\n\n    if(this.images && product.images){\n      product.images = product.images.concat(this.images);\n    }\n\n    this.props.saveProduct(product, ( productId ) => {\n      document.getElementsByName('images')[0].value = null;\n      this.images = [];\n      this.props.getProducts( (d) => {\n      });\n      this.setState({productsCheck: null});\n    });\n  };\n\n  handleChangeProduct = (event) => {\n    let newProductData;\n    newProductData = { ...this.props.product, [event.target.name]: event.target.value};\n\n    this.props.changeProduct(newProductData);\n  }\n\n  showImages = (images, productId) => {\n      let ret = '';\n      if(Array.isArray(images)){\n\n        ret = images.map(function(item, index){\n          return  <ImageProduct key={item.id} imageId={item.id}  productId={productId} />\n        });\n      }\n\n      return ret;\n  }\n\n  createImage = (files) => {\n\n    this.images = [];\n    for (let i = 0; i < files.length; i++)  //for multiple files\n    {\n        let f = files[i];\n        let name = files[i].name;\n        let reader = new FileReader();\n\n        reader.onload = (e) => {\n            this.images.push({ data: e.target.result, name: name});\n        }\n        reader.readAsDataURL(f);\n        //reader.readAsText(f,\"UTF-8\");\n    }\n  }\n\n\n  handleUploadFile = (event) => {\n    const files = event.target.files;\n    if (files.length){\n      this.createImage(files);\n    }\n  }\n\n  render() {\n\n    const defaultLang0 = getDefaultLang(this.props.config.langs);\n    let images = [];\n\n    if(this.props.product.id){\n       images = getImages( this.props.products, this.props.product.id );\n    }\n\n    let shopPages = [];\n    shopPages = this.getShopPages();\n\n    const label =  this.props.product.id ? 'Edit product' : 'Add product';\n\n    return (\n\n      <div>\n\n        <form onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"add-page-btn  btn btn-primary mt-2 mb-2\"><i className=\"fas fa-plus\"></i> {label}</button>\n          <div className=\"form-group\">\n              <input type=\"text\" placeholder=\"Name\" name=\"name\" className=\"form-control col-5\"\n                  onChange={this.handleChangeProduct} value={this.props.product.name || ''} />\n          </div>\n\n          <div className=\"form-group\">\n              <input type=\"text\" placeholder=\"Sku\" name=\"sku\" className=\"form-control col-5\"\n                  onChange={this.handleChangeProduct} value={this.props.product.sku || ''} />\n          </div>\n\n          <div className=\"form-group\">\n              <input type=\"text\" placeholder=\"Price\" name=\"price\" className=\"form-control col-5\"\n                  onChange={this.handleChangeProduct} value={this.props.product.price || ''} />\n          </div>\n\n          <div className=\"form-group\">\n           <label htmlFor=\"comment\">Description</label>\n           <textarea className=\"form-control\" rows=\"5\" name=\"description\"  onChange={this.handleChangeProduct}  value={this.props.product.description || ''}></textarea>\n         </div>\n\n          <div className=\"form-group\">\n            <select name=\"page_id\" onChange={this.handleChangeProduct}  value={this.props.product.page_id || ''} >\n              {shopPages.map(page =>\n                <option key={page.id || ''} value={page.id || ''}>{page.title ? ( page.title[defaultLang0] ? page.title[defaultLang0] : '' ) : ''}</option>\n              )}\n            </select>\n            <label className=\"ml-1\">Page</label>\n          </div>\n\n\n         <div className=\"form-group\">\n          <input type=\"file\" name=\"images\"  onChange={this.handleUploadFile} multiple/>\n         </div>\n\n         {this.showImages(images, this.props.product.id )}\n\n        </form>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    product: state.products.product,\n    products: state.products.products,\n    shop_pages: state.products.shop_pages,\n    config: state.pages.config\n  };\n}\n\nexport default connect(mapStateToProps, actions)(AddProduct);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/products';\nimport Expire from '../../helpers/Expire';\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\nimport '../../../node_modules/react-bootstrap-table/dist/react-bootstrap-table-all.min.css';\nimport AddProduct from './AddProduct';\nimport { getDataFromItems } from '../../helpers/pages';\n\n\n\n\nclass Product extends Component {\n\n  componentDidMount() {\n    this.props.getProducts( (d) => {\n    });\n  }\n\n  handleEditProduct = () =>  {\n    if( this.state  && this.state.productsCheck ){\n        //const data = this.getDataFromProps(this.state.productsCheck);\n        const data = getDataFromItems(this.props.products, this.state.productsCheck);\n        this.props.changeProduct(data);\n\n        // for(let k in this.state.productsCheck ){\n        //   if( this.state.productsCheck[k] === true ){\n        //     const data = this.getDataFromProps(k);\n        //     this.props.setProduct(data);\n        //     break;\n        //   }\n        // }\n    }else{\n      if(this.props.product.id){\n        const data = getDataFromItems(this.props.products, this.props.product.id);\n        this.props.changeProduct(data);\n      }\n    }\n\n    this.refs.table.setState({ selectedRowKeys: [] });\n\n  }\n\n/*\n  getDataFromProps = (id) => {\n    const  data = this.props.products.filter( product => {\n      return product.id === parseInt(id);\n    });\n\n    //console.log('id', id);\n\n    if(!data.length){\n      return {};\n    }\n    return data[0];\n  }\n*/\n\n\n  handleDeleteProduct = () =>  {\n    if( this.state  && this.state.productsCheck ){\n      //alert('delete id='+ this.state.productsCheck  );\n      this.props.deleteProduct(this.state.productsCheck);\n    }\n  }\n\n  onRowSelect = (row, isSelected, e) => {\n\n    // let copy = {};\n    // if(!this.state  ||  !this.state.productsCheck){\n    //   copy[row.id] = isSelected;\n    // }else{\n    //   let key;\n    //\n    //   for (key in this.state.productsCheck) {\n    //     copy[key] = this.state.productsCheck[key]; // copies each property to the objCopy object\n    //   }\n    //   copy[row.id] = isSelected;\n    // }\n\n    //return true;\n\n    let copy = null;\n    if(isSelected){\n      copy = row.id;\n    }\n\n    this.setState({productsCheck: copy});\n  }\n\n  render() {\n\n    const { products } = this.props;\n\n    let msg = '';\n    if(this.props.productsRes && (this.props.productsRes.success  === false)  ){\n      msg = <Expire  delay={5000}><div className=\"alert alert-danger\" role=\"alert\">{JSON.stringify(this.props.productsRes.message, null, 2)}</div></Expire>;\n    }\n\n    if(this.props.productsRes && (this.props.productsRes.success === true) ){\n      msg = <Expire  delay={5000}><div className=\"alert alert-success\" role=\"alert\">{JSON.stringify(this.props.productsRes.message, null, 2)}</div></Expire>;\n    }\n\n    const selectRowProp = {\n      mode: 'radio',\n      clickToSelect: true,\n      onSelect: this.onRowSelect\n    };\n\n\n    return (\n      <div className=\"mt-3 mb-2\">\n        <div className=\"wrapMsg\">\n          {msg}\n        </div>\n\n        <AddProduct key=\"1\" />\n\n        <br/>\n        <button onClick={this.handleEditProduct}>Edit</button><button  onClick={this.handleDeleteProduct}>Delete</button>\n        <div className=\"row\">\n          <BootstrapTable  ref='table'  data={ products }  selectRow={ selectRowProp }>\n            <TableHeaderColumn dataField='id' isKey>ID</TableHeaderColumn>\n            <TableHeaderColumn dataField='name'>Product Name</TableHeaderColumn>\n            <TableHeaderColumn dataField='sku'>Product SKU</TableHeaderColumn>\n          </BootstrapTable>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    product: state.products.product,\n    products: state.products.products,\n    productsRes: state.products.products_res\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Product);\n","import React, { Component } from 'react';\nimport requireAuth from './requireAuth';\nimport Product from './products/Product';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions/products';\nimport Header from './Header';\n\nclass Products extends Component {\n\n\n  render() {\n    return (\n      <div>\n      <Header />\n      <div  className=\"mt-3  container\">\n        <h2 className=\"mb-3\">Products</h2>\n        <Product />\n      </div>\n      </div>      \n    );\n  }\n}\n\nexport default connect(null, actions)(requireAuth(Products));\n","import axios from 'axios';\nimport { SERVER_URL, API_SECRET } from '../config';\nimport { USERS_GET_CLIENTS, USERS_RES } from './types';\n\nimport { getPrefixUrl } from '../helpers/pages';\nconst prefixUrl = getPrefixUrl(SERVER_URL, API_SECRET);\n\n\nexport const getClients = () => async dispatch => {\n  const token = localStorage.getItem('token');\n\n  try {\n    const response = await axios.get(\n      prefixUrl+'/users/clients?token='+token\n    );\n    //console.log(\"response\",response.data.data);\n    dispatch({ type: USERS_GET_CLIENTS, payload: response.data.data });\n    //callback();\n\n  } catch(e){\n     dispatch({ type: USERS_RES, payload: {success: false, message: \"Unknown problem with ajax, while get clients\"} });\n  }\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/users';\nimport Expire from '../../helpers/Expire';\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\nimport '../../../node_modules/react-bootstrap-table/dist/react-bootstrap-table-all.min.css';\n\nclass Clients extends Component {\n\n  componentDidMount() {\n    this.props.getClients();\n  }\n\n  render() {\n\n    const { clients } = this.props;\n\n    let msg = '';\n    if(this.props.usersRes && (this.props.usersRes.success  === false)  ){\n      msg = <Expire  delay={5000}><div className=\"alert alert-danger\" role=\"alert\">{JSON.stringify(this.props.usersRes.message, null, 2)}</div></Expire>;\n    }\n\n    if(this.props.usersRes && (this.props.usersRes.success === true) ){\n      msg = <Expire  delay={5000}><div className=\"alert alert-success\" role=\"alert\">{JSON.stringify(this.props.usersRes.message, null, 2)}</div></Expire>;\n    }\n\n    return (\n      <div className=\"mt-3 mb-2\">\n        <div className=\"wrapMsg\">\n        {msg}\n        </div>\n        <div className=\"row\">\n\n          <BootstrapTable data={ clients }>\n            <TableHeaderColumn dataField='id' isKey>ID</TableHeaderColumn>\n            <TableHeaderColumn dataField='name'>Client Name</TableHeaderColumn>\n            <TableHeaderColumn dataField='email'>Client Email</TableHeaderColumn>\n          </BootstrapTable>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    clients: state.users.clients,\n    usersRes: state.users.users_res\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Clients);\n","import React, { Component } from 'react';\nimport requireAuth from './requireAuth';\nimport Clients from './users/Clients';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions/users';\nimport Header from './Header';\n\nclass Users extends Component {\n\n\n  render() {\n    return (\n      <div>\n      <Header />\n      <div  className=\"mt-3  container\">\n        <h2 className=\"mb-3\">Users</h2>\n        <Clients />\n      </div>\n      </div>      \n    );\n  }\n}\n\nexport default connect(null, actions)(requireAuth(Users));\n","import axios from 'axios';\nimport { SERVER_URL, API_SECRET  } from '../config';\nimport { CONTACTS_GET_CONTACTS, CONTACTS_DELETE_CONTACT, CONTACTS_RES } from './types';\n\n\nimport { getPrefixUrl } from '../helpers/pages';\nconst prefixUrl = getPrefixUrl(SERVER_URL, API_SECRET);\n\n\nexport const getContacts = (callback) => async dispatch => {\n  const token = localStorage.getItem('token');\n\n  try {\n    const response = await axios.get(\n      prefixUrl+'/contacts?token='+token\n    );\n    //console.log(\"response\",response.data.data);\n    dispatch({ type: CONTACTS_GET_CONTACTS, payload: response.data.data });\n    callback(response.data.data);\n\n  } catch(e){\n     dispatch({ type: CONTACTS_RES, payload: {success: false, message: \"Unknown problem with ajax, while get contacts\"} });\n  }\n};\n\n\n\nexport const deleteContact = (contactId) =>  async dispatch => {\n\n  const token = localStorage.getItem('token');\n\n  //console.log(SERVER_URL);\n  try{\n    //console.log( 'del_menuId', menuId );\n    const response = await axios.delete(\n      prefixUrl+'/contacts/'+contactId+'?token='+token\n    );\n\n    if(!response.data.success){\n      //const strErr = JSON.stringify(response.data.error, null, 2);\n      dispatch({ type: CONTACTS_RES, payload: {success: false, message: response.data.error} });\n    }else{\n      dispatch({ type: CONTACTS_RES, payload: {success: true, message: \"Data was saved\"} });\n    }\n\n    dispatch({ type: CONTACTS_DELETE_CONTACT, payload: contactId });\n  } catch(e){\n     dispatch({ type: CONTACTS_RES, payload: {success: false, message: \"Unknown problem with ajax, while deleteing contact\"} });\n  }\n}\n\n\n\n// export const changeProduct = (product) => dispatch => {\n//   dispatch({ type: PRODUCTS_CHANGE_PRODUCT, payload: product });\n// };\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/contacts';\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.data =  this.props.data;\n  }\n\n  delItem = () => {\n    this.props.deleteContact(this.data.id);\n  }\n\n  render() {\n\n    return (\n      <tr>\n        <td>{this.data.email}</td>\n        <td>{this.data.message}</td>\n        <td>{this.data.created_at_format}</td>\n        <td>\n          <div className=\"ml-2 trash\"  onClick={this.delItem}><i className=\"fas fa-trash cursor-pointer\"  aria-hidden=\"true\"/></div>\n        </td>\n      </tr>\n    );\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    contacts: state.contacts,\n    contactsRes: state.contacts.contacts_res\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Item);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/contacts';\nimport Expire from '../../helpers/Expire';\nimport Item from './Item';\n\nclass Contact extends Component {\n\n  componentDidMount() {\n    this.props.getContacts( (d) => {\n      //console.log(d);\n    });\n  }\n\n  showItems = (contacts) => {\n\n      let ret = '';\n      if(Array.isArray(contacts)){\n\n        ret = contacts.map(function(item, index){\n           // createTreePages(this.props.pages, item.id );\n          return  <Item key={item.id} data={item}/>\n        });\n      }\n\n\n      return ret;\n  }\n\n  render() {\n\n    let contacts = this.props.contacts.contacts;\n\n    let msg = '';\n    if(this.props.contactsRes && (this.props.contactsRes.success  === false)  ){\n      msg = <Expire  delay={5000}><div className=\"alert alert-danger\" role=\"alert\">{JSON.stringify(this.props.contactsRes.message, null, 2)}</div></Expire>;\n    }\n\n    if(this.props.contactsRes && (this.props.contactsRes.success === true) ){\n      msg = <Expire  delay={5000}><div className=\"alert alert-success\" role=\"alert\">{JSON.stringify(this.props.contactsRes.message, null, 2)}</div></Expire>;\n    }\n\n    return (\n      <div className=\"mt-3 mb-2\">\n        <div className=\"wrapMsg\">\n        {msg}\n        </div>\n        <table className=\"table table-bordered\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Email</th>\n              <th scope=\"col\">Message</th>\n              <th scope=\"col\">Created At</th>\n              <th scope=\"col\">Action</th>\n            </tr>\n          </thead>\n          <tbody>\n          {this.showItems(contacts)}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    contacts: state.contacts,\n    contactsRes: state.contacts.contacts_res\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Contact);\n","import React, { Component } from 'react';\nimport requireAuth from './requireAuth';\nimport { connect } from 'react-redux';\nimport Contact from './contacts/Contact';\nimport * as actions from '../actions/contacts';\nimport Header from './Header';\n\nclass Contacts extends Component {\n\n\n  render() {\n    return (\n      <div>\n      <Header />\n      <div  className=\"mt-3  container\">\n        <h2 className=\"mb-3\">Contacts</h2>\n        <Contact />\n      </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, actions)(requireAuth(Contacts));\n","import axios from 'axios';\nimport { AUTH_USER, AUTH_ERROR } from '../actions/types';\nimport { SERVER_URL } from '../config';\n\n/*\nexport const signup = (formProps, callback) => async dispatch => {\n  try {\n    const response = await axios.post(\n      SERVER_URL+'/api/register',\n      formProps\n    );\n\n    dispatch({ type: AUTH_USER, payload: response.data.data.token });\n    localStorage.setItem('token', response.data.data.token);\n\n    callback();\n  } catch (e) {\n    dispatch({ type: AUTH_ERROR, payload: 'Email in use' });\n  }\n};\n*/\n\nexport const signin = (formProps, callback) => async dispatch => {\n  try {\n    const response = await axios.post(\n      SERVER_URL+'/api/login',\n      formProps\n    );\n\n    dispatch({ type: AUTH_USER, payload: response.data.data.token });\n    localStorage.setItem('token', response.data.data.token);\n\n\n    callback();\n  } catch (e) {\n    dispatch({ type: AUTH_ERROR, payload: 'Invalid login credentials' });\n  }\n};\n\nexport const signout = ( callback ) => dispatch => {\n  localStorage.removeItem('token');\n\n  dispatch({ type: AUTH_USER, payload: '' });\n  callback();\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\nimport { ADMIN_URL_SECRET } from '../../config';\n\nclass Signout extends Component {\n  componentDidMount() {\n    this.props.signout( () => {\n      const urlAmin  = '/admin'+ADMIN_URL_SECRET+'/';\n      this.props.history.push(urlAmin);\n    });\n\n  }\n\n  render() {\n    return <div>Sorry to see you go</div>;\n  }\n}\n\nexport default connect(null, actions)(Signout);\n","import React, { Component } from 'react';\nimport { reduxForm, Field } from 'redux-form';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\nimport { ADMIN_URL_SECRET } from '../../config';\n//import { Redirect } from 'react-router-dom'\n\nclass Signin extends Component {\n\n  componentDidMount() {\n    if (this.props.auth) {\n      const urlPages = \"/admin\"+ADMIN_URL_SECRET+\"/pages\";\n      this.props.history.push(urlPages);\n    }\n  }\n\n  onSubmit = formProps => {\n    this.props.signin(formProps, () => {\n      const urlPages = \"/admin\"+ADMIN_URL_SECRET+\"/pages\";\n      return this.props.history.push(urlPages);\n    });\n  };\n\n  render() {\n    const { handleSubmit } = this.props;\n\n    return (\n      <form className=\"container mt-4\"  onSubmit={handleSubmit(this.onSubmit)}>\n        <fieldset  className=\"col-4 form-group\">\n          <label>Email</label>\n          <Field\n            className=\"form-control  mb-2\"\n            name=\"email\"\n            type=\"text\"\n            component=\"input\"\n            autoComplete=\"none\"\n          />\n        </fieldset>\n        <fieldset  className=\"col-4  form-group\">\n          <label>Password</label>\n          <Field\n            className=\"form-control  mb-2\"\n            name=\"password\"\n            type=\"password\"\n            component=\"input\"\n            autoComplete=\"none\"\n          />\n        </fieldset>\n        <div>{this.props.errorMessage}</div>\n        <button className=\"btn btn-primary mt-2 mr-sm-2\" >Sign In!</button>\n      </form>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return { errorMessage: state.auth.errorMessage, auth: state.auth.authenticated };\n}\n\nexport default compose(\n  connect(mapStateToProps, actions),\n  reduxForm({ form: 'signin' })\n)(Signin);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route } from 'react-router-dom';\n//import { Provider } from 'react-redux';\n//import { createStore, applyMiddleware } from 'redux';\n//import reduxThunk from 'redux-thunk';\nimport Root from './Root';\nimport { ADMIN_URL_SECRET } from './config';\n\n//import reducers from './reducers';\nimport App from './components/App';\nimport Pages from './components/Pages';\nimport Products from './components/Products';\nimport Users from './components/Users';\nimport Contacts from './components/Contacts';\nimport Signout from './components/auth/Signout';\nimport Signin from './components/auth/Signin';\n\nconst urlAdmin = \"/admin\"+ADMIN_URL_SECRET;\nconst urlPages = \"/admin\"+ADMIN_URL_SECRET+\"/pages\";\nconst urlProducts = \"/admin\"+ADMIN_URL_SECRET+\"/products\";\nconst urlUsers = \"/admin\"+ADMIN_URL_SECRET+\"/users\";\nconst urlContacts = \"/admin\"+ADMIN_URL_SECRET+\"/contacts\";\nconst urlSignout = \"/admin\"+ADMIN_URL_SECRET+\"/signout\";\nconst urlSignin = \"/admin\"+ADMIN_URL_SECRET+\"/signin\";\n\nReactDOM.render(\n  <Root>\n    <BrowserRouter>\n      <App>\n        <Route path={urlAdmin} exact component={Signin} />\n        <Route path={urlPages} component={Pages} />\n        <Route path={urlProducts} component={Products} />\n        <Route path={urlUsers} component={Users} />\n        <Route path={urlContacts} component={Contacts} />\n        <Route path={urlSignout} component={Signout} />\n        <Route path={urlSignin} component={Signin} />\n      </App>\n    </BrowserRouter>\n  </Root>,\n  document.querySelector('#root')\n);\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\n//import reduxPromise from 'redux-promise';\nimport reducers from './reducers';\nimport reduxThunk from 'redux-thunk';\n\nexport default ({ children, initialState = {} }) => {\n\n  const store = createStore(\n    reducers,\n    {\n      auth: { authenticated: localStorage.getItem('token') },\n      ...initialState\n    },\n    composeWithDevTools(\n\n      applyMiddleware(reduxThunk),\n      // other store enhancers if any\n    )\n\n    //applyMiddleware(reduxThunk)\n     //window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  );\n\n  return <Provider store={store}>{children}</Provider>;\n};\n","import React from 'react';\n\n\nexport default ({ children }) => {\n  return (\n    <div>\n      {children}\n    </div>\n  );\n};\n"],"sourceRoot":""}